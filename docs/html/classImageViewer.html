<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wavelength: ImageViewer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wavelength
   </div>
   <div id="projectbrief">Privacy-focused, cross-platform, and open-source communication application</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classImageViewer.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-slots">Private Slots</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classImageViewer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ImageViewer Class Reference<span class="mlabels"><span class="mlabel final">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>A widget for displaying static images (PNG, JPEG, etc.) within a chat interface.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="image__viewer_8h_source.html">image_viewer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ImageViewer:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classImageViewer__inherit__graph.svg" width="219" height="583"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Collaboration diagram for ImageViewer:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classImageViewer__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="signals" name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:a592fe08df0615189242b4b68a77fa504" id="r_a592fe08df0615189242b4b68a77fa504"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a592fe08df0615189242b4b68a77fa504">imageInfoReady</a> (int width, int height, bool has_alpha)</td></tr>
<tr class="memdesc:a592fe08df0615189242b4b68a77fa504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted after the image information (dimensions, alpha) has been successfully received from the decoder.  <br /></td></tr>
<tr class="separator:a592fe08df0615189242b4b68a77fa504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dc697303dccbc44c425fd91f2bf2077" id="r_a4dc697303dccbc44c425fd91f2bf2077"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4dc697303dccbc44c425fd91f2bf2077">imageLoaded</a> ()</td></tr>
<tr class="memdesc:a4dc697303dccbc44c425fd91f2bf2077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted after the image has been successfully decoded and set in the QLabel. Can be used by parent widgets to adjust layout once the image is ready for display.  <br /></td></tr>
<tr class="separator:a4dc697303dccbc44c425fd91f2bf2077"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9f9cd61953b303c108ab1b8cabef1870" id="r_a9f9cd61953b303c108ab1b8cabef1870"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f9cd61953b303c108ab1b8cabef1870">ImageViewer</a> (const QByteArray &amp;image_data, QWidget *parent=nullptr)</td></tr>
<tr class="memdesc:a9f9cd61953b303c108ab1b8cabef1870"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an InlineImageViewer widget. Initializes the UI (QLabel), creates the <a class="el" href="classImageDecoder.html" title="Decodes image data using Qt&#39;s built-in image loading capabilities.">ImageDecoder</a> instance, connects signals and triggers asynchronous decoding of the image data.  <br /></td></tr>
<tr class="separator:a9f9cd61953b303c108ab1b8cabef1870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf7639b09f056dbce113305afb45472" id="r_acbf7639b09f056dbce113305afb45472"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acbf7639b09f056dbce113305afb45472">ReleaseResources</a> ()</td></tr>
<tr class="memdesc:acbf7639b09f056dbce113305afb45472"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases resources held by the <a class="el" href="classImageDecoder.html" title="Decodes image data using Qt&#39;s built-in image loading capabilities.">ImageDecoder</a>. Resets the shared pointer to the decoder.  <br /></td></tr>
<tr class="separator:acbf7639b09f056dbce113305afb45472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99d92674824c77dadd93c585e7884450" id="r_a99d92674824c77dadd93c585e7884450"><td class="memItemLeft" align="right" valign="top">QSize&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99d92674824c77dadd93c585e7884450">sizeHint</a> () const override</td></tr>
<tr class="memdesc:a99d92674824c77dadd93c585e7884450"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a size hint based on the original dimensions of the loaded image. Returns the actual image size once loaded, otherwise falls back to the default QFrame size hint.  <br /></td></tr>
<tr class="separator:a99d92674824c77dadd93c585e7884450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a563f6c886b7d372b3f0bd0f9e735c3a5" id="r_a563f6c886b7d372b3f0bd0f9e735c3a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a563f6c886b7d372b3f0bd0f9e735c3a5">~ImageViewer</a> () override</td></tr>
<tr class="memdesc:a563f6c886b7d372b3f0bd0f9e735c3a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. Ensures resources are released by calling <a class="el" href="#acbf7639b09f056dbce113305afb45472" title="Releases resources held by the ImageDecoder. Resets the shared pointer to the decoder.">ReleaseResources()</a>.  <br /></td></tr>
<tr class="separator:a563f6c886b7d372b3f0bd0f9e735c3a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-slots" name="pri-slots"></a>
Private Slots</h2></td></tr>
<tr class="memitem:a15bd5b0675fc5ad4926dcfd33e3a8dd5" id="r_a15bd5b0675fc5ad4926dcfd33e3a8dd5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15bd5b0675fc5ad4926dcfd33e3a8dd5">HandleError</a> (const QString &amp;message)</td></tr>
<tr class="memdesc:a15bd5b0675fc5ad4926dcfd33e3a8dd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Slot connected to the decoder's error signal. Logs the error and displays an error message in the QLabel. Sets a minimum size to ensure the error message is visible.  <br /></td></tr>
<tr class="separator:a15bd5b0675fc5ad4926dcfd33e3a8dd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae40b32a871965f645abf15f12e2e5b5b" id="r_ae40b32a871965f645abf15f12e2e5b5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae40b32a871965f645abf15f12e2e5b5b">HandleImageInfo</a> (int width, int height, bool has_alpha)</td></tr>
<tr class="memdesc:ae40b32a871965f645abf15f12e2e5b5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Slot connected to the decoder's imageInfo signal. Stores the image dimensions and alpha channel information. Emits the <a class="el" href="#a592fe08df0615189242b4b68a77fa504" title="Emitted after the image information (dimensions, alpha) has been successfully received from the decod...">imageInfoReady()</a> signal.  <br /></td></tr>
<tr class="separator:ae40b32a871965f645abf15f12e2e5b5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7f75120309ec5bcc4618dee53e028b7" id="r_ad7f75120309ec5bcc4618dee53e028b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7f75120309ec5bcc4618dee53e028b7">HandleImageReady</a> (const QImage &amp;image)</td></tr>
<tr class="memdesc:ad7f75120309ec5bcc4618dee53e028b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Slot connected to the decoder's imageReady signal. Stores the decoded image, sets it as the pixmap for the internal QLabel, updates the widget's geometry, and emits the <a class="el" href="#a4dc697303dccbc44c425fd91f2bf2077" title="Emitted after the image has been successfully decoded and set in the QLabel. Can be used by parent wi...">imageLoaded()</a> signal. Relies on the QLabel's setScaledContents(true) for display scaling.  <br /></td></tr>
<tr class="separator:ad7f75120309ec5bcc4618dee53e028b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5077984ce8b59e336f4d2f2780b13a22" id="r_a5077984ce8b59e336f4d2f2780b13a22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5077984ce8b59e336f4d2f2780b13a22">LoadImage</a> () const</td></tr>
<tr class="memdesc:a5077984ce8b59e336f4d2f2780b13a22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiates the image decoding process by calling Decode() on the <a class="el" href="classImageDecoder.html" title="Decodes image data using Qt&#39;s built-in image loading capabilities.">ImageDecoder</a>. Called asynchronously via QTimer::singleShot after the constructor finishes.  <br /></td></tr>
<tr class="separator:a5077984ce8b59e336f4d2f2780b13a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:afe4643bffb7b6e79e00eea4a94cd263c" id="r_afe4643bffb7b6e79e00eea4a94cd263c"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classImageDecoder.html">ImageDecoder</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe4643bffb7b6e79e00eea4a94cd263c">decoder_</a></td></tr>
<tr class="memdesc:afe4643bffb7b6e79e00eea4a94cd263c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared pointer to the <a class="el" href="classImageDecoder.html" title="Decodes image data using Qt&#39;s built-in image loading capabilities.">ImageDecoder</a> instance responsible for decoding.  <br /></td></tr>
<tr class="separator:afe4643bffb7b6e79e00eea4a94cd263c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab508ad7c3b49069468a02e2d64e8e005" id="r_ab508ad7c3b49069468a02e2d64e8e005"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab508ad7c3b49069468a02e2d64e8e005">has_alpha_</a> = false</td></tr>
<tr class="memdesc:ab508ad7c3b49069468a02e2d64e8e005"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating if the image has an alpha channel. Set by HandleImageInfo.  <br /></td></tr>
<tr class="separator:ab508ad7c3b49069468a02e2d64e8e005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f7b1d4b9fecb8616e15d974fcb812b" id="r_ac1f7b1d4b9fecb8616e15d974fcb812b"><td class="memItemLeft" align="right" valign="top">QByteArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1f7b1d4b9fecb8616e15d974fcb812b">image_data_</a></td></tr>
<tr class="memdesc:ac1f7b1d4b9fecb8616e15d974fcb812b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the raw image data passed in the constructor.  <br /></td></tr>
<tr class="separator:ac1f7b1d4b9fecb8616e15d974fcb812b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ab474ef46b292ac1242522c7b83b5ed" id="r_a1ab474ef46b292ac1242522c7b83b5ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ab474ef46b292ac1242522c7b83b5ed">image_height_</a> = 0</td></tr>
<tr class="memdesc:a1ab474ef46b292ac1242522c7b83b5ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Original height of the image in pixels. Set by HandleImageInfo.  <br /></td></tr>
<tr class="separator:a1ab474ef46b292ac1242522c7b83b5ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab110732aa19c1fa1b141c8c3d0cd64b2" id="r_ab110732aa19c1fa1b141c8c3d0cd64b2"><td class="memItemLeft" align="right" valign="top">QLabel *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab110732aa19c1fa1b141c8c3d0cd64b2">image_label_</a></td></tr>
<tr class="memdesc:ab110732aa19c1fa1b141c8c3d0cd64b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">QLabel used to display the image. ScaledContents is enabled.  <br /></td></tr>
<tr class="separator:ab110732aa19c1fa1b141c8c3d0cd64b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4f284da3bc82fd959bc83197e73d5d7" id="r_ae4f284da3bc82fd959bc83197e73d5d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae4f284da3bc82fd959bc83197e73d5d7">image_width_</a> = 0</td></tr>
<tr class="memdesc:ae4f284da3bc82fd959bc83197e73d5d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Original width of the image in pixels. Set by HandleImageInfo.  <br /></td></tr>
<tr class="separator:ae4f284da3bc82fd959bc83197e73d5d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf2c90d7dce1c5f3bfc471ed176631b7" id="r_adf2c90d7dce1c5f3bfc471ed176631b7"><td class="memItemLeft" align="right" valign="top">QImage&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adf2c90d7dce1c5f3bfc471ed176631b7">original_image_</a></td></tr>
<tr class="memdesc:adf2c90d7dce1c5f3bfc471ed176631b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the original, unscaled decoded image.  <br /></td></tr>
<tr class="separator:adf2c90d7dce1c5f3bfc471ed176631b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3548991f7c686dc18995e265b4efc884" id="r_a3548991f7c686dc18995e265b4efc884"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTranslationManager.html">TranslationManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3548991f7c686dc18995e265b4efc884">translator_</a> = nullptr</td></tr>
<tr class="memdesc:a3548991f7c686dc18995e265b4efc884"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the translation manager for handling UI translations.  <br /></td></tr>
<tr class="separator:a3548991f7c686dc18995e265b4efc884"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A widget for displaying static images (PNG, JPEG, etc.) within a chat interface. </p>
<p>This class uses <a class="el" href="classImageDecoder.html" title="Decodes image data using Qt&#39;s built-in image loading capabilities.">ImageDecoder</a> (which relies on Qt's image loading) to decode image data. It displays the image within a QLabel, automatically scaling the content to fit the label's size while preserving an aspect ratio (due to QLabel's setScaledContents(true)). It provides signals for when the image is loaded and when its information (size, alpha) is available. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9f9cd61953b303c108ab1b8cabef1870" name="a9f9cd61953b303c108ab1b8cabef1870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f9cd61953b303c108ab1b8cabef1870">&#9670;&#160;</a></span>ImageViewer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ImageViewer::ImageViewer </td>
          <td>(</td>
          <td class="paramtype">const QByteArray &amp;</td>          <td class="paramname"><span class="paramname"><em>image_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QWidget *</td>          <td class="paramname"><span class="paramname"><em>parent</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel explicit">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs an InlineImageViewer widget. Initializes the UI (QLabel), creates the <a class="el" href="classImageDecoder.html" title="Decodes image data using Qt&#39;s built-in image loading capabilities.">ImageDecoder</a> instance, connects signals and triggers asynchronous decoding of the image data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image_data</td><td>The raw image data to be displayed. </td></tr>
    <tr><td class="paramname">parent</td><td>Optional parent widget. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classImageViewer_a9f9cd61953b303c108ab1b8cabef1870_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a563f6c886b7d372b3f0bd0f9e735c3a5" name="a563f6c886b7d372b3f0bd0f9e735c3a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a563f6c886b7d372b3f0bd0f9e735c3a5">&#9670;&#160;</a></span>~ImageViewer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ImageViewer::~ImageViewer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel override">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. Ensures resources are released by calling <a class="el" href="#acbf7639b09f056dbce113305afb45472" title="Releases resources held by the ImageDecoder. Resets the shared pointer to the decoder.">ReleaseResources()</a>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classImageViewer_a563f6c886b7d372b3f0bd0f9e735c3a5_cgraph.svg" width="460" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a15bd5b0675fc5ad4926dcfd33e3a8dd5" name="a15bd5b0675fc5ad4926dcfd33e3a8dd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15bd5b0675fc5ad4926dcfd33e3a8dd5">&#9670;&#160;</a></span>HandleError</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageViewer::HandleError </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Slot connected to the decoder's error signal. Logs the error and displays an error message in the QLabel. Sets a minimum size to ensure the error message is visible. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The error message from the decoder. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classImageViewer_a15bd5b0675fc5ad4926dcfd33e3a8dd5_icgraph.svg" width="642" height="72"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae40b32a871965f645abf15f12e2e5b5b" name="ae40b32a871965f645abf15f12e2e5b5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae40b32a871965f645abf15f12e2e5b5b">&#9670;&#160;</a></span>HandleImageInfo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageViewer::HandleImageInfo </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>width</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>has_alpha</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Slot connected to the decoder's imageInfo signal. Stores the image dimensions and alpha channel information. Emits the <a class="el" href="#a592fe08df0615189242b4b68a77fa504" title="Emitted after the image information (dimensions, alpha) has been successfully received from the decod...">imageInfoReady()</a> signal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>The width of the image in pixels. </td></tr>
    <tr><td class="paramname">height</td><td>The height of the image in pixels. </td></tr>
    <tr><td class="paramname">has_alpha</td><td>True if the image has an alpha channel. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classImageViewer_ae40b32a871965f645abf15f12e2e5b5b_cgraph.svg" width="460" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classImageViewer_ae40b32a871965f645abf15f12e2e5b5b_icgraph.svg" width="442" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad7f75120309ec5bcc4618dee53e028b7" name="ad7f75120309ec5bcc4618dee53e028b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7f75120309ec5bcc4618dee53e028b7">&#9670;&#160;</a></span>HandleImageReady</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageViewer::HandleImageReady </td>
          <td>(</td>
          <td class="paramtype">const QImage &amp;</td>          <td class="paramname"><span class="paramname"><em>image</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Slot connected to the decoder's imageReady signal. Stores the decoded image, sets it as the pixmap for the internal QLabel, updates the widget's geometry, and emits the <a class="el" href="#a4dc697303dccbc44c425fd91f2bf2077" title="Emitted after the image has been successfully decoded and set in the QLabel. Can be used by parent wi...">imageLoaded()</a> signal. Relies on the QLabel's setScaledContents(true) for display scaling. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>The successfully decoded QImage. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classImageViewer_ad7f75120309ec5bcc4618dee53e028b7_cgraph.svg" width="422" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classImageViewer_ad7f75120309ec5bcc4618dee53e028b7_icgraph.svg" width="420" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a592fe08df0615189242b4b68a77fa504" name="a592fe08df0615189242b4b68a77fa504"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a592fe08df0615189242b4b68a77fa504">&#9670;&#160;</a></span>imageInfoReady</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageViewer::imageInfoReady </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>width</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>has_alpha</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted after the image information (dimensions, alpha) has been successfully received from the decoder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>The width of the image in pixels. </td></tr>
    <tr><td class="paramname">height</td><td>The height of the image in pixels. </td></tr>
    <tr><td class="paramname">has_alpha</td><td>True if the image has an alpha channel. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classImageViewer_a592fe08df0615189242b4b68a77fa504_icgraph.svg" width="100%" height="468"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a4dc697303dccbc44c425fd91f2bf2077" name="a4dc697303dccbc44c425fd91f2bf2077"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dc697303dccbc44c425fd91f2bf2077">&#9670;&#160;</a></span>imageLoaded</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageViewer::imageLoaded </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted after the image has been successfully decoded and set in the QLabel. Can be used by parent widgets to adjust layout once the image is ready for display. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classImageViewer_a4dc697303dccbc44c425fd91f2bf2077_icgraph.svg" width="650" height="234"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a5077984ce8b59e336f4d2f2780b13a22" name="a5077984ce8b59e336f4d2f2780b13a22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5077984ce8b59e336f4d2f2780b13a22">&#9670;&#160;</a></span>LoadImage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageViewer::LoadImage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initiates the image decoding process by calling Decode() on the <a class="el" href="classImageDecoder.html" title="Decodes image data using Qt&#39;s built-in image loading capabilities.">ImageDecoder</a>. Called asynchronously via QTimer::singleShot after the constructor finishes. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classImageViewer_a5077984ce8b59e336f4d2f2780b13a22_icgraph.svg" width="407" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="acbf7639b09f056dbce113305afb45472" name="acbf7639b09f056dbce113305afb45472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbf7639b09f056dbce113305afb45472">&#9670;&#160;</a></span>ReleaseResources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ImageViewer::ReleaseResources </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases resources held by the <a class="el" href="classImageDecoder.html" title="Decodes image data using Qt&#39;s built-in image loading capabilities.">ImageDecoder</a>. Resets the shared pointer to the decoder. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classImageViewer_acbf7639b09f056dbce113305afb45472_icgraph.svg" width="460" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a99d92674824c77dadd93c585e7884450" name="a99d92674824c77dadd93c585e7884450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99d92674824c77dadd93c585e7884450">&#9670;&#160;</a></span>sizeHint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QSize ImageViewer::sizeHint </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel nodiscard">nodiscard</span><span class="mlabel override">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provides a size hint based on the original dimensions of the loaded image. Returns the actual image size once loaded, otherwise falls back to the default QFrame size hint. </p>
<dl class="section return"><dt>Returns</dt><dd>The recommended QSize for the widget (original image size). </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="afe4643bffb7b6e79e00eea4a94cd263c" name="afe4643bffb7b6e79e00eea4a94cd263c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe4643bffb7b6e79e00eea4a94cd263c">&#9670;&#160;</a></span>decoder_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classImageDecoder.html">ImageDecoder</a>&gt; ImageViewer::decoder_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shared pointer to the <a class="el" href="classImageDecoder.html" title="Decodes image data using Qt&#39;s built-in image loading capabilities.">ImageDecoder</a> instance responsible for decoding. </p>

</div>
</div>
<a id="ab508ad7c3b49069468a02e2d64e8e005" name="ab508ad7c3b49069468a02e2d64e8e005"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab508ad7c3b49069468a02e2d64e8e005">&#9670;&#160;</a></span>has_alpha_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageViewer::has_alpha_ = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag indicating if the image has an alpha channel. Set by HandleImageInfo. </p>

</div>
</div>
<a id="ac1f7b1d4b9fecb8616e15d974fcb812b" name="ac1f7b1d4b9fecb8616e15d974fcb812b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1f7b1d4b9fecb8616e15d974fcb812b">&#9670;&#160;</a></span>image_data_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QByteArray ImageViewer::image_data_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the raw image data passed in the constructor. </p>

</div>
</div>
<a id="a1ab474ef46b292ac1242522c7b83b5ed" name="a1ab474ef46b292ac1242522c7b83b5ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ab474ef46b292ac1242522c7b83b5ed">&#9670;&#160;</a></span>image_height_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ImageViewer::image_height_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Original height of the image in pixels. Set by HandleImageInfo. </p>

</div>
</div>
<a id="ab110732aa19c1fa1b141c8c3d0cd64b2" name="ab110732aa19c1fa1b141c8c3d0cd64b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab110732aa19c1fa1b141c8c3d0cd64b2">&#9670;&#160;</a></span>image_label_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QLabel* ImageViewer::image_label_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>QLabel used to display the image. ScaledContents is enabled. </p>

</div>
</div>
<a id="ae4f284da3bc82fd959bc83197e73d5d7" name="ae4f284da3bc82fd959bc83197e73d5d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4f284da3bc82fd959bc83197e73d5d7">&#9670;&#160;</a></span>image_width_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ImageViewer::image_width_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Original width of the image in pixels. Set by HandleImageInfo. </p>

</div>
</div>
<a id="adf2c90d7dce1c5f3bfc471ed176631b7" name="adf2c90d7dce1c5f3bfc471ed176631b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf2c90d7dce1c5f3bfc471ed176631b7">&#9670;&#160;</a></span>original_image_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QImage ImageViewer::original_image_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the original, unscaled decoded image. </p>

</div>
</div>
<a id="a3548991f7c686dc18995e265b4efc884" name="a3548991f7c686dc18995e265b4efc884"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3548991f7c686dc18995e265b4efc884">&#9670;&#160;</a></span>translator_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTranslationManager.html">TranslationManager</a>* ImageViewer::translator_ = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the translation manager for handling UI translations. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/chat/files/image/displayer/<a class="el" href="image__viewer_8h_source.html">image_viewer.h</a></li>
<li>src/chat/files/image/displayer/<a class="el" href="image__viewer_8cpp.html">image_viewer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classImageViewer.html">ImageViewer</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
