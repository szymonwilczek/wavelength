<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wavelength: IdleState Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wavelength
   </div>
   <div id="projectbrief">Privacy-focused, cross-platform, and open-source communication application</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classIdleState.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classIdleState-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">IdleState Class Reference<span class="mlabels"><span class="mlabel final">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Implements the Idle state behavior for the Blob animation.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="idle__state_8h_source.html">idle_state.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for IdleState:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classIdleState__inherit__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Collaboration diagram for IdleState:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classIdleState__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa008ead194b81d1f7aedf5234c53b4f2" id="r_aa008ead194b81d1f7aedf5234c53b4f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa008ead194b81d1f7aedf5234c53b4f2">Apply</a> (std::vector&lt; QPointF &gt; &amp;control_points, std::vector&lt; QPointF &gt; &amp;velocity, QPointF &amp;blob_center, const <a class="el" href="structBlobConfig_1_1BlobParameters.html">BlobConfig::BlobParameters</a> &amp;params) override</td></tr>
<tr class="memdesc:aa008ead194b81d1f7aedf5234c53b4f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies the idle animation effects (waves, rotation, centering) or the initial heartbeat effect. Called periodically by the animation loop when this state is active. If is_initializing_ is true, applies the heartbeat effect. Otherwise, applies the standard idle wave and rotation.  <br /></td></tr>
<tr class="separator:aa008ead194b81d1f7aedf5234c53b4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e48c70caaa3026f9ad8ca4c35fcd6d" id="r_a08e48c70caaa3026f9ad8ca4c35fcd6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08e48c70caaa3026f9ad8ca4c35fcd6d">ApplyForce</a> (const QVector2D &amp;force, std::vector&lt; QPointF &gt; &amp;velocity, QPointF &amp;blob_center, const std::vector&lt; QPointF &gt; &amp;control_points, double blob_radius) override</td></tr>
<tr class="memdesc:a08e48c70caaa3026f9ad8ca4c35fcd6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies an external force to the blob with dampening specific to the Idle state. The force is scaled based on the distance of each control point from the center and applied primarily to velocity. A small portion of the force is also applied directly to the blob's center position.  <br /></td></tr>
<tr class="separator:a08e48c70caaa3026f9ad8ca4c35fcd6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630a77bca3827432147ca69a005bda33" id="r_a630a77bca3827432147ca69a005bda33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a630a77bca3827432147ca69a005bda33">ApplyHeartbeatEffect</a> (const std::vector&lt; QPointF &gt; &amp;control_points, std::vector&lt; QPointF &gt; &amp;velocity, const QPointF &amp;blob_center, const <a class="el" href="structBlobConfig_1_1BlobParameters.html">BlobConfig::BlobParameters</a> &amp;params)</td></tr>
<tr class="memdesc:a630a77bca3827432147ca69a005bda33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies a pulsating "heartbeat" effect to the blob. Used during the initial phase after entering the Idle state. The effect runs for a defined number of beats (kRequiredHeartbeats). Modifies control point velocities to create expansion and contraction.  <br /></td></tr>
<tr class="separator:a630a77bca3827432147ca69a005bda33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e97a195d3168ac0659cf0e432e5a3f3" id="r_a2e97a195d3168ac0659cf0e432e5a3f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e97a195d3168ac0659cf0e432e5a3f3">IdleState</a> ()</td></tr>
<tr class="memdesc:a2e97a195d3168ac0659cf0e432e5a3f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an <a class="el" href="classIdleState.html" title="Implements the Idle state behavior for the Blob animation.">IdleState</a> object. Initializes phase offsets.  <br /></td></tr>
<tr class="separator:a2e97a195d3168ac0659cf0e432e5a3f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5962165b62a2f2207bd05bbe6f9d0ee6" id="r_a5962165b62a2f2207bd05bbe6f9d0ee6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5962165b62a2f2207bd05bbe6f9d0ee6">ResetInitialization</a> ()</td></tr>
<tr class="memdesc:a5962165b62a2f2207bd05bbe6f9d0ee6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the initialization state, causing the heartbeat effect to play again. Sets is_initializing_ to true and resets heartbeat counters.  <br /></td></tr>
<tr class="separator:a5962165b62a2f2207bd05bbe6f9d0ee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e4e527b44c14b62b4fd3484b1eface0" id="r_a3e4e527b44c14b62b4fd3484b1eface0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e4e527b44c14b62b4fd3484b1eface0">UpdatePhases</a> ()</td></tr>
<tr class="memdesc:a3e4e527b44c14b62b4fd3484b1eface0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the internal phase variables used for the wave and rotation animations. Increments wave_phase, second_phase_, and rotation_phase_, wrapping them around 2*PI.  <br /></td></tr>
<tr class="separator:a3e4e527b44c14b62b4fd3484b1eface0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBlobState"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classBlobState')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBlobState.html">BlobState</a></td></tr>
<tr class="memitem:a8a8486408ac43e86d018f8160b5524b4 inherit pub_methods_classBlobState" id="r_a8a8486408ac43e86d018f8160b5524b4"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBlobState.html#a8a8486408ac43e86d018f8160b5524b4">~BlobState</a> ()=default</td></tr>
<tr class="memdesc:a8a8486408ac43e86d018f8160b5524b4 inherit pub_methods_classBlobState"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor. Ensures proper cleanup when deleting derived state objects through a base class pointer.  <br /></td></tr>
<tr class="separator:a8a8486408ac43e86d018f8160b5524b4 inherit pub_methods_classBlobState"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:accf2e4ade50819a5308a5ff17c7c99b8" id="r_accf2e4ade50819a5308a5ff17c7c99b8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#accf2e4ade50819a5308a5ff17c7c99b8">heartbeat_count_</a> = 0</td></tr>
<tr class="memdesc:accf2e4ade50819a5308a5ff17c7c99b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter for the number of heartbeats completed during initialization.  <br /></td></tr>
<tr class="separator:accf2e4ade50819a5308a5ff17c7c99b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a534f7453c22922cdc72046a1079f9fc3" id="r_a534f7453c22922cdc72046a1079f9fc3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a534f7453c22922cdc72046a1079f9fc3">heartbeat_phase_</a> = 0.0</td></tr>
<tr class="memdesc:a534f7453c22922cdc72046a1079f9fc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current phase of the heartbeat animation cycle (0 to 2*PI).  <br /></td></tr>
<tr class="separator:a534f7453c22922cdc72046a1079f9fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72d79e61d6290cfe4523968527ff8c40" id="r_a72d79e61d6290cfe4523968527ff8c40"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structBlobConfig_1_1IdleParameters.html">BlobConfig::IdleParameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72d79e61d6290cfe4523968527ff8c40">idle_params_</a></td></tr>
<tr class="memdesc:a72d79e61d6290cfe4523968527ff8c40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameters specific to the idle animation (wave amplitude, frequency, phase).  <br /></td></tr>
<tr class="separator:a72d79e61d6290cfe4523968527ff8c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a679eba6cd21af819cdd35ee72f4e9cfc" id="r_a679eba6cd21af819cdd35ee72f4e9cfc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a679eba6cd21af819cdd35ee72f4e9cfc">is_initializing_</a> = true</td></tr>
<tr class="memdesc:a679eba6cd21af819cdd35ee72f4e9cfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating if the state is currently running the initial heartbeat animation.  <br /></td></tr>
<tr class="separator:a679eba6cd21af819cdd35ee72f4e9cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79c978e11208869e9d1a1d11bbd6a899" id="r_a79c978e11208869e9d1a1d11bbd6a899"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79c978e11208869e9d1a1d11bbd6a899">rotation_phase_</a> = 0.0</td></tr>
<tr class="memdesc:a79c978e11208869e9d1a1d11bbd6a899"><td class="mdescLeft">&#160;</td><td class="mdescRight">Phase offset for the rotational effect.  <br /></td></tr>
<tr class="separator:a79c978e11208869e9d1a1d11bbd6a899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13c12ea7ed4ecb703da93d6a737d069f" id="r_a13c12ea7ed4ecb703da93d6a737d069f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13c12ea7ed4ecb703da93d6a737d069f">second_phase_</a> = 0.0</td></tr>
<tr class="memdesc:a13c12ea7ed4ecb703da93d6a737d069f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Phase offset for the secondary wave effect.  <br /></td></tr>
<tr class="separator:a13c12ea7ed4ecb703da93d6a737d069f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a5f156d4fe98c6ece4ce31ffa97023077" id="r_a5f156d4fe98c6ece4ce31ffa97023077"><td class="memItemLeft" align="right" valign="top">static constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5f156d4fe98c6ece4ce31ffa97023077">kRequiredHeartbeats</a> = 1</td></tr>
<tr class="memdesc:a5f156d4fe98c6ece4ce31ffa97023077"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of heartbeat cycles to perform during initialization.  <br /></td></tr>
<tr class="separator:a5f156d4fe98c6ece4ce31ffa97023077"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implements the Idle state behavior for the Blob animation. </p>
<p>This state applies subtle wave and rotation effects to the blob when it's not actively moving or resizing. It also includes an initial "heartbeat" animation upon entering the state. Forces applied in this state are dampened compared to other states. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2e97a195d3168ac0659cf0e432e5a3f3" name="a2e97a195d3168ac0659cf0e432e5a3f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e97a195d3168ac0659cf0e432e5a3f3">&#9670;&#160;</a></span>IdleState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IdleState::IdleState </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs an <a class="el" href="classIdleState.html" title="Implements the Idle state behavior for the Blob animation.">IdleState</a> object. Initializes phase offsets. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa008ead194b81d1f7aedf5234c53b4f2" name="aa008ead194b81d1f7aedf5234c53b4f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa008ead194b81d1f7aedf5234c53b4f2">&#9670;&#160;</a></span>Apply()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void IdleState::Apply </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; QPointF &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>control_points</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; QPointF &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>velocity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QPointF &amp;</td>          <td class="paramname"><span class="paramname"><em>blob_center</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structBlobConfig_1_1BlobParameters.html">BlobConfig::BlobParameters</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>params</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Applies the idle animation effects (waves, rotation, centering) or the initial heartbeat effect. Called periodically by the animation loop when this state is active. If is_initializing_ is true, applies the heartbeat effect. Otherwise, applies the standard idle wave and rotation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control_points</td><td>Reference to the vector of current control point positions (modified). </td></tr>
    <tr><td class="paramname">velocity</td><td>Reference to the vector of current control point velocities (modified). </td></tr>
    <tr><td class="paramname">blob_center</td><td>Reference to the blob's center position (modified). </td></tr>
    <tr><td class="paramname">params</td><td>Blob appearance parameters (read-only). </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classBlobState.html#a7c3befdbdbe36602a59d17d4742b10b8">BlobState</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classIdleState_aa008ead194b81d1f7aedf5234c53b4f2_cgraph.svg" width="346" height="99"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a08e48c70caaa3026f9ad8ca4c35fcd6d" name="a08e48c70caaa3026f9ad8ca4c35fcd6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08e48c70caaa3026f9ad8ca4c35fcd6d">&#9670;&#160;</a></span>ApplyForce()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void IdleState::ApplyForce </td>
          <td>(</td>
          <td class="paramtype">const QVector2D &amp;</td>          <td class="paramname"><span class="paramname"><em>force</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; QPointF &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>velocity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QPointF &amp;</td>          <td class="paramname"><span class="paramname"><em>blob_center</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; QPointF &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>control_points</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>blob_radius</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Applies an external force to the blob with dampening specific to the Idle state. The force is scaled based on the distance of each control point from the center and applied primarily to velocity. A small portion of the force is also applied directly to the blob's center position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">force</td><td>The external force vector to apply. </td></tr>
    <tr><td class="paramname">velocity</td><td>Reference to the vector of current control point velocities (modified). </td></tr>
    <tr><td class="paramname">blob_center</td><td>Reference to the blob's center position (modified). </td></tr>
    <tr><td class="paramname">control_points</td><td>Reference to the vector of current control point positions (read-only). </td></tr>
    <tr><td class="paramname">blob_radius</td><td>The current average radius of the blob (read-only). </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classBlobState.html#ae5d732fdaeb29ec9eaceda089de23511">BlobState</a>.</p>

</div>
</div>
<a id="a630a77bca3827432147ca69a005bda33" name="a630a77bca3827432147ca69a005bda33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a630a77bca3827432147ca69a005bda33">&#9670;&#160;</a></span>ApplyHeartbeatEffect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IdleState::ApplyHeartbeatEffect </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; QPointF &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>control_points</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; QPointF &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>velocity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QPointF &amp;</td>          <td class="paramname"><span class="paramname"><em>blob_center</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structBlobConfig_1_1BlobParameters.html">BlobConfig::BlobParameters</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>params</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Applies a pulsating "heartbeat" effect to the blob. Used during the initial phase after entering the Idle state. The effect runs for a defined number of beats (kRequiredHeartbeats). Modifies control point velocities to create expansion and contraction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control_points</td><td>Reference to the vector of current control point positions (read-only). </td></tr>
    <tr><td class="paramname">velocity</td><td>Reference to the vector of current control point velocities (modified). </td></tr>
    <tr><td class="paramname">blob_center</td><td>The current center position of the blob (read-only). </td></tr>
    <tr><td class="paramname">params</td><td>Blob appearance parameters (read-only). </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classIdleState_a630a77bca3827432147ca69a005bda33_icgraph.svg" width="346" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a5962165b62a2f2207bd05bbe6f9d0ee6" name="a5962165b62a2f2207bd05bbe6f9d0ee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5962165b62a2f2207bd05bbe6f9d0ee6">&#9670;&#160;</a></span>ResetInitialization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IdleState::ResetInitialization </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the initialization state, causing the heartbeat effect to play again. Sets is_initializing_ to true and resets heartbeat counters. </p>

</div>
</div>
<a id="a3e4e527b44c14b62b4fd3484b1eface0" name="a3e4e527b44c14b62b4fd3484b1eface0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e4e527b44c14b62b4fd3484b1eface0">&#9670;&#160;</a></span>UpdatePhases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IdleState::UpdatePhases </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the internal phase variables used for the wave and rotation animations. Increments wave_phase, second_phase_, and rotation_phase_, wrapping them around 2*PI. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classIdleState_a3e4e527b44c14b62b4fd3484b1eface0_icgraph.svg" width="340" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="accf2e4ade50819a5308a5ff17c7c99b8" name="accf2e4ade50819a5308a5ff17c7c99b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accf2e4ade50819a5308a5ff17c7c99b8">&#9670;&#160;</a></span>heartbeat_count_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int IdleState::heartbeat_count_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counter for the number of heartbeats completed during initialization. </p>

</div>
</div>
<a id="a534f7453c22922cdc72046a1079f9fc3" name="a534f7453c22922cdc72046a1079f9fc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a534f7453c22922cdc72046a1079f9fc3">&#9670;&#160;</a></span>heartbeat_phase_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double IdleState::heartbeat_phase_ = 0.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current phase of the heartbeat animation cycle (0 to 2*PI). </p>

</div>
</div>
<a id="a72d79e61d6290cfe4523968527ff8c40" name="a72d79e61d6290cfe4523968527ff8c40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72d79e61d6290cfe4523968527ff8c40">&#9670;&#160;</a></span>idle_params_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBlobConfig_1_1IdleParameters.html">BlobConfig::IdleParameters</a> IdleState::idle_params_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parameters specific to the idle animation (wave amplitude, frequency, phase). </p>

</div>
</div>
<a id="a679eba6cd21af819cdd35ee72f4e9cfc" name="a679eba6cd21af819cdd35ee72f4e9cfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a679eba6cd21af819cdd35ee72f4e9cfc">&#9670;&#160;</a></span>is_initializing_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool IdleState::is_initializing_ = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag indicating if the state is currently running the initial heartbeat animation. </p>

</div>
</div>
<a id="a5f156d4fe98c6ece4ce31ffa97023077" name="a5f156d4fe98c6ece4ce31ffa97023077"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f156d4fe98c6ece4ce31ffa97023077">&#9670;&#160;</a></span>kRequiredHeartbeats</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int IdleState::kRequiredHeartbeats = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel constexpr">constexpr</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of heartbeat cycles to perform during initialization. </p>

</div>
</div>
<a id="a79c978e11208869e9d1a1d11bbd6a899" name="a79c978e11208869e9d1a1d11bbd6a899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79c978e11208869e9d1a1d11bbd6a899">&#9670;&#160;</a></span>rotation_phase_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double IdleState::rotation_phase_ = 0.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Phase offset for the rotational effect. </p>

</div>
</div>
<a id="a13c12ea7ed4ecb703da93d6a737d069f" name="a13c12ea7ed4ecb703da93d6a737d069f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13c12ea7ed4ecb703da93d6a737d069f">&#9670;&#160;</a></span>second_phase_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double IdleState::second_phase_ = 0.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Phase offset for the secondary wave effect. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/blob/states/<a class="el" href="idle__state_8h_source.html">idle_state.h</a></li>
<li>src/blob/states/<a class="el" href="idle__state_8cpp.html">idle_state.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classIdleState.html">IdleState</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
