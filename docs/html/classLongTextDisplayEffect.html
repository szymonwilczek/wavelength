<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wavelength: LongTextDisplayEffect Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wavelength
   </div>
   <div id="projectbrief">Privacy-focused, cross-platform, and open-source communication application</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classLongTextDisplayEffect.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classLongTextDisplayEffect-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">LongTextDisplayEffect Class Reference<span class="mlabels"><span class="mlabel final">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>A custom widget for displaying potentially long text with cyberpunk aesthetics and efficient rendering.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="long__text__display__effect_8h_source.html">long_text_display_effect.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for LongTextDisplayEffect:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classLongTextDisplayEffect__inherit__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Collaboration diagram for LongTextDisplayEffect:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classLongTextDisplayEffect__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="signals" name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:aa577c95b45549f021c2ca984f7e5f8b3" id="r_aa577c95b45549f021c2ca984f7e5f8b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa577c95b45549f021c2ca984f7e5f8b3">contentHeightChanged</a> (int new_height)</td></tr>
<tr class="memdesc:aa577c95b45549f021c2ca984f7e5f8b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted after <a class="el" href="#a3c62e6c78599b4e8eac2ef62cdae7319" title="Processes the original_text_ into wrapped lines based on the current widget width....">ProcessText()</a> finishes, indicating the total calculated height required to display all the processed lines.  <br /></td></tr>
<tr class="separator:aa577c95b45549f021c2ca984f7e5f8b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a515b93e6788d2cbb060950762233b25a" id="r_a515b93e6788d2cbb060950762233b25a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a515b93e6788d2cbb060950762233b25a">LongTextDisplayEffect</a> (QString text, const QColor &amp;text_color, QWidget *parent=nullptr)</td></tr>
<tr class="memdesc:a515b93e6788d2cbb060950762233b25a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a CyberLongTextDisplay widget. Initializes the widget with default size policies, font, text color, and sets up a timer for delayed text processing.  <br /></td></tr>
<tr class="separator:a515b93e6788d2cbb060950762233b25a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a0292b16b37bf88ca182bc7615ab7d2" id="r_a1a0292b16b37bf88ca182bc7615ab7d2"><td class="memItemLeft" align="right" valign="top">QSize&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a0292b16b37bf88ca182bc7615ab7d2">minimumSizeHint</a> () const override</td></tr>
<tr class="separator:a1a0292b16b37bf88ca182bc7615ab7d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d2f41161e89f9c7f9f0122846b6025" id="r_a93d2f41161e89f9c7f9f0122846b6025"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93d2f41161e89f9c7f9f0122846b6025">SetScrollPosition</a> (int position)</td></tr>
<tr class="memdesc:a93d2f41161e89f9c7f9f0122846b6025"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the vertical scroll position. This determines which part of the processed text is rendered in the paintEvent. Schedules a repaint if the position changes.  <br /></td></tr>
<tr class="separator:a93d2f41161e89f9c7f9f0122846b6025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63a27a4868ea0b72ad337f476786db1e" id="r_a63a27a4868ea0b72ad337f476786db1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63a27a4868ea0b72ad337f476786db1e">SetText</a> (const QString &amp;text)</td></tr>
<tr class="memdesc:a63a27a4868ea0b72ad337f476786db1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the text content to be displayed. Updates the internal original text, invalidates the processed text cache, triggers delayed processing, and schedules a repaint.  <br /></td></tr>
<tr class="separator:a63a27a4868ea0b72ad337f476786db1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a856877a7f1f935ee0c2ec7a82b6c892f" id="r_a856877a7f1f935ee0c2ec7a82b6c892f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a856877a7f1f935ee0c2ec7a82b6c892f">SetTextColor</a> (const QColor &amp;color)</td></tr>
<tr class="memdesc:a856877a7f1f935ee0c2ec7a82b6c892f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the color for the displayed text. Updates the internal text color and schedules a repaint.  <br /></td></tr>
<tr class="separator:a856877a7f1f935ee0c2ec7a82b6c892f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04a72982e54ac8d38728aa94996c9b48" id="r_a04a72982e54ac8d38728aa94996c9b48"><td class="memItemLeft" align="right" valign="top">QSize&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04a72982e54ac8d38728aa94996c9b48">sizeHint</a> () const override</td></tr>
<tr class="memdesc:a04a72982e54ac8d38728aa94996c9b48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the recommended size for the widget based on the processed text content. The height is calculated based on the number of processed lines and font metrics. The width is calculated based on the longest processed line.  <br /></td></tr>
<tr class="separator:a04a72982e54ac8d38728aa94996c9b48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a8764be077716dbe61b07607cd1a470ba" id="r_a8764be077716dbe61b07607cd1a470ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8764be077716dbe61b07607cd1a470ba">paintEvent</a> (QPaintEvent *event) override</td></tr>
<tr class="memdesc:a8764be077716dbe61b07607cd1a470ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overridden paint event handler. Draws the widget's appearance. Ensures the text is processed, draws the background gradient, renders the visible lines of the processed text based on the scroll position, and applies a scanline effect.  <br /></td></tr>
<tr class="separator:a8764be077716dbe61b07607cd1a470ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a0e7d167e18228eebc2fb163d9b880" id="r_a21a0e7d167e18228eebc2fb163d9b880"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21a0e7d167e18228eebc2fb163d9b880">resizeEvent</a> (QResizeEvent *event) override</td></tr>
<tr class="memdesc:a21a0e7d167e18228eebc2fb163d9b880"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overridden resize event handler. Invalidates the processed text cache and triggers delayed text processing when the widget's size changes.  <br /></td></tr>
<tr class="separator:a21a0e7d167e18228eebc2fb163d9b880"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a3c62e6c78599b4e8eac2ef62cdae7319" id="r_a3c62e6c78599b4e8eac2ef62cdae7319"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c62e6c78599b4e8eac2ef62cdae7319">ProcessText</a> ()</td></tr>
<tr class="memdesc:a3c62e6c78599b4e8eac2ef62cdae7319"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes the original_text_ into wrapped lines based on the current widget width. Splits the text into paragraphs and words, then reconstructs lines ensuring they fit within the available width. Handles word wrapping and breaking long words. Updates the processed_lines_ cache, calculates the required dimensions (width and height), updates the size_hint_, marks the cache as valid, and emits contentHeightChanged.  <br /></td></tr>
<tr class="separator:a3c62e6c78599b4e8eac2ef62cdae7319"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7014650035064b221bba52e0dbabaf5c" id="r_a7014650035064b221bba52e0dbabaf5c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7014650035064b221bba52e0dbabaf5c">cached_text_valid_</a></td></tr>
<tr class="memdesc:a7014650035064b221bba52e0dbabaf5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating if the processed_lines_ cache is up to date with the original_text_ and widget width.  <br /></td></tr>
<tr class="separator:a7014650035064b221bba52e0dbabaf5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27ff0a16517ba09b88dcf210db3fb6cd" id="r_a27ff0a16517ba09b88dcf210db3fb6cd"><td class="memItemLeft" align="right" valign="top">QFont&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27ff0a16517ba09b88dcf210db3fb6cd">font_</a></td></tr>
<tr class="memdesc:a27ff0a16517ba09b88dcf210db3fb6cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The font used for rendering text and calculating metrics.  <br /></td></tr>
<tr class="separator:a27ff0a16517ba09b88dcf210db3fb6cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a729340f147b961c740b3c6dd7b181217" id="r_a729340f147b961c740b3c6dd7b181217"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a729340f147b961c740b3c6dd7b181217">original_text_</a></td></tr>
<tr class="memdesc:a729340f147b961c740b3c6dd7b181217"><td class="mdescLeft">&#160;</td><td class="mdescRight">The original, unprocessed text content set via constructor or <a class="el" href="#a63a27a4868ea0b72ad337f476786db1e" title="Sets the text content to be displayed. Updates the internal original text, invalidates the processed ...">SetText()</a>.  <br /></td></tr>
<tr class="separator:a729340f147b961c740b3c6dd7b181217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ee0ffc59073cbd391d78da513e5579f" id="r_a0ee0ffc59073cbd391d78da513e5579f"><td class="memItemLeft" align="right" valign="top">QStringList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ee0ffc59073cbd391d78da513e5579f">processed_lines_</a></td></tr>
<tr class="memdesc:a0ee0ffc59073cbd391d78da513e5579f"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of strings representing the text after processing (line wrapping).  <br /></td></tr>
<tr class="separator:a0ee0ffc59073cbd391d78da513e5579f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a753e7673ea12279580a4e2ad8e4e27eb" id="r_a753e7673ea12279580a4e2ad8e4e27eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a753e7673ea12279580a4e2ad8e4e27eb">scroll_position_</a></td></tr>
<tr class="memdesc:a753e7673ea12279580a4e2ad8e4e27eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current vertical scroll position in pixels.  <br /></td></tr>
<tr class="separator:a753e7673ea12279580a4e2ad8e4e27eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3112e2a5e1cd38f6f854e6b6450c2f3" id="r_ab3112e2a5e1cd38f6f854e6b6450c2f3"><td class="memItemLeft" align="right" valign="top">QSize&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3112e2a5e1cd38f6f854e6b6450c2f3">size_hint_</a></td></tr>
<tr class="memdesc:ab3112e2a5e1cd38f6f854e6b6450c2f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cached size hint calculated based on processed text dimensions.  <br /></td></tr>
<tr class="separator:ab3112e2a5e1cd38f6f854e6b6450c2f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c95ff0e6f955946d0f9e753ba8ed38" id="r_ac5c95ff0e6f955946d0f9e753ba8ed38"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac5c95ff0e6f955946d0f9e753ba8ed38">text_color_</a></td></tr>
<tr class="memdesc:ac5c95ff0e6f955946d0f9e753ba8ed38"><td class="mdescLeft">&#160;</td><td class="mdescRight">The color used to render the text.  <br /></td></tr>
<tr class="separator:ac5c95ff0e6f955946d0f9e753ba8ed38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76b0fa7e305362e8e2461eb75baa1806" id="r_a76b0fa7e305362e8e2461eb75baa1806"><td class="memItemLeft" align="right" valign="top">QTimer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a76b0fa7e305362e8e2461eb75baa1806">update_timer_</a> {}</td></tr>
<tr class="memdesc:a76b0fa7e305362e8e2461eb75baa1806"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer used to delay text processing after resize or text change events.  <br /></td></tr>
<tr class="separator:a76b0fa7e305362e8e2461eb75baa1806"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A custom widget for displaying potentially long text with cyberpunk aesthetics and efficient rendering. </p>
<p>This widget takes a long string, processes it by wrapping lines based on the widget's width, and renders only the visible portion of the text. It includes a cyberpunk-style background gradient and scanline effect. Text processing is delayed and cached to avoid excessive recalculations during resizing. It supports vertical scrolling via the SetScrollPosition method and emits a signal indicating the total required height for the content. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a515b93e6788d2cbb060950762233b25a" name="a515b93e6788d2cbb060950762233b25a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a515b93e6788d2cbb060950762233b25a">&#9670;&#160;</a></span>LongTextDisplayEffect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LongTextDisplayEffect::LongTextDisplayEffect </td>
          <td>(</td>
          <td class="paramtype">QString</td>          <td class="paramname"><span class="paramname"><em>text</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QColor &amp;</td>          <td class="paramname"><span class="paramname"><em>text_color</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QWidget *</td>          <td class="paramname"><span class="paramname"><em>parent</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel explicit">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a CyberLongTextDisplay widget. Initializes the widget with default size policies, font, text color, and sets up a timer for delayed text processing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">text</td><td>The initial text content to display. </td></tr>
    <tr><td class="paramname">text_color</td><td>The color for the displayed text. </td></tr>
    <tr><td class="paramname">parent</td><td>Optional parent widget. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLongTextDisplayEffect_a515b93e6788d2cbb060950762233b25a_cgraph.svg" width="582" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLongTextDisplayEffect_a515b93e6788d2cbb060950762233b25a_icgraph.svg" width="572" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa577c95b45549f021c2ca984f7e5f8b3" name="aa577c95b45549f021c2ca984f7e5f8b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa577c95b45549f021c2ca984f7e5f8b3">&#9670;&#160;</a></span>contentHeightChanged</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void LongTextDisplayEffect::contentHeightChanged </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>new_height</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted after <a class="el" href="#a3c62e6c78599b4e8eac2ef62cdae7319" title="Processes the original_text_ into wrapped lines based on the current widget width....">ProcessText()</a> finishes, indicating the total calculated height required to display all the processed lines. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_height</td><td>The total content height in pixels. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classLongTextDisplayEffect_aa577c95b45549f021c2ca984f7e5f8b3_icgraph.svg" width="100%" height="517"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a1a0292b16b37bf88ca182bc7615ab7d2" name="a1a0292b16b37bf88ca182bc7615ab7d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a0292b16b37bf88ca182bc7615ab7d2">&#9670;&#160;</a></span>minimumSizeHint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QSize LongTextDisplayEffect::minimumSizeHint </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel nodiscard">nodiscard</span><span class="mlabel override">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classLongTextDisplayEffect_a1a0292b16b37bf88ca182bc7615ab7d2_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a8764be077716dbe61b07607cd1a470ba" name="a8764be077716dbe61b07607cd1a470ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8764be077716dbe61b07607cd1a470ba">&#9670;&#160;</a></span>paintEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void LongTextDisplayEffect::paintEvent </td>
          <td>(</td>
          <td class="paramtype">QPaintEvent *</td>          <td class="paramname"><span class="paramname"><em>event</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overridden paint event handler. Draws the widget's appearance. Ensures the text is processed, draws the background gradient, renders the visible lines of the processed text based on the scroll position, and applies a scanline effect. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>The paint event. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLongTextDisplayEffect_a8764be077716dbe61b07607cd1a470ba_cgraph.svg" width="574" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3c62e6c78599b4e8eac2ef62cdae7319" name="a3c62e6c78599b4e8eac2ef62cdae7319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c62e6c78599b4e8eac2ef62cdae7319">&#9670;&#160;</a></span>ProcessText()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void LongTextDisplayEffect::ProcessText </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes the original_text_ into wrapped lines based on the current widget width. Splits the text into paragraphs and words, then reconstructs lines ensuring they fit within the available width. Handles word wrapping and breaking long words. Updates the processed_lines_ cache, calculates the required dimensions (width and height), updates the size_hint_, marks the cache as valid, and emits contentHeightChanged. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLongTextDisplayEffect_a3c62e6c78599b4e8eac2ef62cdae7319_cgraph.svg" width="374" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classLongTextDisplayEffect_a3c62e6c78599b4e8eac2ef62cdae7319_icgraph.svg" width="100%" height="517"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a21a0e7d167e18228eebc2fb163d9b880" name="a21a0e7d167e18228eebc2fb163d9b880"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21a0e7d167e18228eebc2fb163d9b880">&#9670;&#160;</a></span>resizeEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void LongTextDisplayEffect::resizeEvent </td>
          <td>(</td>
          <td class="paramtype">QResizeEvent *</td>          <td class="paramname"><span class="paramname"><em>event</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overridden resize event handler. Invalidates the processed text cache and triggers delayed text processing when the widget's size changes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>The resize event. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLongTextDisplayEffect_a21a0e7d167e18228eebc2fb163d9b880_cgraph.svg" width="574" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a93d2f41161e89f9c7f9f0122846b6025" name="a93d2f41161e89f9c7f9f0122846b6025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d2f41161e89f9c7f9f0122846b6025">&#9670;&#160;</a></span>SetScrollPosition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LongTextDisplayEffect::SetScrollPosition </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>position</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the vertical scroll position. This determines which part of the processed text is rendered in the paintEvent. Schedules a repaint if the position changes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">position</td><td>The vertical scroll position in pixels. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLongTextDisplayEffect_a93d2f41161e89f9c7f9f0122846b6025_icgraph.svg" width="431" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a63a27a4868ea0b72ad337f476786db1e" name="a63a27a4868ea0b72ad337f476786db1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63a27a4868ea0b72ad337f476786db1e">&#9670;&#160;</a></span>SetText()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LongTextDisplayEffect::SetText </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>text</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the text content to be displayed. Updates the internal original text, invalidates the processed text cache, triggers delayed processing, and schedules a repaint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">text</td><td>The new text content. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLongTextDisplayEffect_a63a27a4868ea0b72ad337f476786db1e_cgraph.svg" width="574" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a856877a7f1f935ee0c2ec7a82b6c892f" name="a856877a7f1f935ee0c2ec7a82b6c892f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a856877a7f1f935ee0c2ec7a82b6c892f">&#9670;&#160;</a></span>SetTextColor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LongTextDisplayEffect::SetTextColor </td>
          <td>(</td>
          <td class="paramtype">const QColor &amp;</td>          <td class="paramname"><span class="paramname"><em>color</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the color for the displayed text. Updates the internal text color and schedules a repaint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color</td><td>The new text color. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a04a72982e54ac8d38728aa94996c9b48" name="a04a72982e54ac8d38728aa94996c9b48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04a72982e54ac8d38728aa94996c9b48">&#9670;&#160;</a></span>sizeHint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QSize LongTextDisplayEffect::sizeHint </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel nodiscard">nodiscard</span><span class="mlabel override">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the recommended size for the widget based on the processed text content. The height is calculated based on the number of processed lines and font metrics. The width is calculated based on the longest processed line. </p>
<dl class="section return"><dt>Returns</dt><dd>The calculated QSize hint. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classLongTextDisplayEffect_a04a72982e54ac8d38728aa94996c9b48_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLongTextDisplayEffect_a04a72982e54ac8d38728aa94996c9b48_icgraph.svg" width="364" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7014650035064b221bba52e0dbabaf5c" name="a7014650035064b221bba52e0dbabaf5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7014650035064b221bba52e0dbabaf5c">&#9670;&#160;</a></span>cached_text_valid_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LongTextDisplayEffect::cached_text_valid_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag indicating if the processed_lines_ cache is up to date with the original_text_ and widget width. </p>

</div>
</div>
<a id="a27ff0a16517ba09b88dcf210db3fb6cd" name="a27ff0a16517ba09b88dcf210db3fb6cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27ff0a16517ba09b88dcf210db3fb6cd">&#9670;&#160;</a></span>font_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QFont LongTextDisplayEffect::font_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The font used for rendering text and calculating metrics. </p>

</div>
</div>
<a id="a729340f147b961c740b3c6dd7b181217" name="a729340f147b961c740b3c6dd7b181217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a729340f147b961c740b3c6dd7b181217">&#9670;&#160;</a></span>original_text_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString LongTextDisplayEffect::original_text_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The original, unprocessed text content set via constructor or <a class="el" href="#a63a27a4868ea0b72ad337f476786db1e" title="Sets the text content to be displayed. Updates the internal original text, invalidates the processed ...">SetText()</a>. </p>

</div>
</div>
<a id="a0ee0ffc59073cbd391d78da513e5579f" name="a0ee0ffc59073cbd391d78da513e5579f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ee0ffc59073cbd391d78da513e5579f">&#9670;&#160;</a></span>processed_lines_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QStringList LongTextDisplayEffect::processed_lines_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of strings representing the text after processing (line wrapping). </p>

</div>
</div>
<a id="a753e7673ea12279580a4e2ad8e4e27eb" name="a753e7673ea12279580a4e2ad8e4e27eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a753e7673ea12279580a4e2ad8e4e27eb">&#9670;&#160;</a></span>scroll_position_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int LongTextDisplayEffect::scroll_position_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current vertical scroll position in pixels. </p>

</div>
</div>
<a id="ab3112e2a5e1cd38f6f854e6b6450c2f3" name="ab3112e2a5e1cd38f6f854e6b6450c2f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3112e2a5e1cd38f6f854e6b6450c2f3">&#9670;&#160;</a></span>size_hint_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QSize LongTextDisplayEffect::size_hint_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cached size hint calculated based on processed text dimensions. </p>

</div>
</div>
<a id="ac5c95ff0e6f955946d0f9e753ba8ed38" name="ac5c95ff0e6f955946d0f9e753ba8ed38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5c95ff0e6f955946d0f9e753ba8ed38">&#9670;&#160;</a></span>text_color_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor LongTextDisplayEffect::text_color_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The color used to render the text. </p>

</div>
</div>
<a id="a76b0fa7e305362e8e2461eb75baa1806" name="a76b0fa7e305362e8e2461eb75baa1806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76b0fa7e305362e8e2461eb75baa1806">&#9670;&#160;</a></span>update_timer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QTimer* LongTextDisplayEffect::update_timer_ {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Timer used to delay text processing after resize or text change events. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/ui/chat/effects/<a class="el" href="long__text__display__effect_8h_source.html">long_text_display_effect.h</a></li>
<li>src/ui/chat/effects/<a class="el" href="long__text__display__effect_8cpp.html">long_text_display_effect.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classLongTextDisplayEffect.html">LongTextDisplayEffect</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
