<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wavelength: ElectronicShutdownEffect Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wavelength
   </div>
   <div id="projectbrief">Privacy-focused, cross-platform, and open-source communication application</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classElectronicShutdownEffect.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classElectronicShutdownEffect-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ElectronicShutdownEffect Class Reference<span class="mlabels"><span class="mlabel final">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>A QGraphicsEffect that simulates an old CRT monitor or electronic device shutting down.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="electronic__shutdown__effect_8h_source.html">electronic_shutdown_effect.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ElectronicShutdownEffect:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classElectronicShutdownEffect__inherit__graph.svg" width="200" height="372"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Collaboration diagram for ElectronicShutdownEffect:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classElectronicShutdownEffect__coll__graph.svg" width="200" height="372"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6379e1c84989c986610bd0a03b0f9694" id="r_a6379e1c84989c986610bd0a03b0f9694"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6379e1c84989c986610bd0a03b0f9694">ElectronicShutdownEffect</a> (QObject *parent=nullptr)</td></tr>
<tr class="memdesc:a6379e1c84989c986610bd0a03b0f9694"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an <a class="el" href="classElectronicShutdownEffect.html" title="A QGraphicsEffect that simulates an old CRT monitor or electronic device shutting down.">ElectronicShutdownEffect</a>. Initializes the effect, sets up the result cache, and seeds the random generator.  <br /></td></tr>
<tr class="separator:a6379e1c84989c986610bd0a03b0f9694"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f24231d7d50b3c39192ec9ebdfcf53c" id="r_a4f24231d7d50b3c39192ec9ebdfcf53c"><td class="memItemLeft" align="right" valign="top">qreal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f24231d7d50b3c39192ec9ebdfcf53c">GetProgress</a> () const</td></tr>
<tr class="memdesc:a4f24231d7d50b3c39192ec9ebdfcf53c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current progress of the shutdown animation.  <br /></td></tr>
<tr class="separator:a4f24231d7d50b3c39192ec9ebdfcf53c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cb647caed7dfe52fe5103fd879095dd" id="r_a4cb647caed7dfe52fe5103fd879095dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4cb647caed7dfe52fe5103fd879095dd">SetProgress</a> (qreal <a class="el" href="#aac379c6b68eaf4a012527f2e490e4b5b">progress</a>)</td></tr>
<tr class="memdesc:a4cb647caed7dfe52fe5103fd879095dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the progress of the shutdown animation. Clamps the value between 0.0 and 1.0 and triggers an update of the effect.  <br /></td></tr>
<tr class="separator:a4cb647caed7dfe52fe5103fd879095dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a71b92c0a1d935a36bfb9c7dcb3f25c53" id="r_a71b92c0a1d935a36bfb9c7dcb3f25c53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a71b92c0a1d935a36bfb9c7dcb3f25c53">draw</a> (QPainter *painter) override</td></tr>
<tr class="memdesc:a71b92c0a1d935a36bfb9c7dcb3f25c53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overridden draw method that renders the shutdown effect. Retrieves the source pixmap. If progress is minimal, draws the source directly. If progress is maximal, draws nothing. Otherwise, checks a cache for a pre-rendered result at a similar progress level. If not cached or progress changed significantly, it generates the effect based on the current phase (collapsing or fading line), applying glitches, scanlines, brightness changes, and glow effects. The result is stored in the cache. Finally, the cached (or newly generated) pixmap is drawn.  <br /></td></tr>
<tr class="separator:a71b92c0a1d935a36bfb9c7dcb3f25c53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="properties" name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:aac379c6b68eaf4a012527f2e490e4b5b" id="r_aac379c6b68eaf4a012527f2e490e4b5b"><td class="memItemLeft" align="right" valign="top">qreal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac379c6b68eaf4a012527f2e490e4b5b">progress</a></td></tr>
<tr class="memdesc:aac379c6b68eaf4a012527f2e490e4b5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Property controlling the progress of the shutdown animation (0.0 to 1.0). Animatable.  <br /></td></tr>
<tr class="separator:aac379c6b68eaf4a012527f2e490e4b5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a673e6a8b43492a7f261e7b0fb1c8b33d" id="r_a673e6a8b43492a7f261e7b0fb1c8b33d"><td class="memItemLeft" align="right" valign="top">qreal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a673e6a8b43492a7f261e7b0fb1c8b33d">last_progress_</a></td></tr>
<tr class="memdesc:a673e6a8b43492a7f261e7b0fb1c8b33d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the progress value from the last time the cache was updated, used to optimize cache usage.  <br /></td></tr>
<tr class="separator:a673e6a8b43492a7f261e7b0fb1c8b33d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af039b2b93192bd9a1681170292e754ea" id="r_af039b2b93192bd9a1681170292e754ea"><td class="memItemLeft" align="right" valign="top">qreal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af039b2b93192bd9a1681170292e754ea">progress_</a></td></tr>
<tr class="memdesc:af039b2b93192bd9a1681170292e754ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current progress level of the shutdown animation (0.0 to 1.0).  <br /></td></tr>
<tr class="separator:af039b2b93192bd9a1681170292e754ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa00db31213db3afbfa53352463f7728c" id="r_aa00db31213db3afbfa53352463f7728c"><td class="memItemLeft" align="right" valign="top">QCache&lt; QString, QPixmap &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa00db31213db3afbfa53352463f7728c">result_cache_</a></td></tr>
<tr class="memdesc:aa00db31213db3afbfa53352463f7728c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache storing pre-rendered effect pixmaps keyed by progress level string for performance.  <br /></td></tr>
<tr class="separator:aa00db31213db3afbfa53352463f7728c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A QGraphicsEffect that simulates an old CRT monitor or electronic device shutting down. </p>
<p>This effect animates in two phases based on the <code>progress</code> property (0.0 to 1.0):</p><ol type="1">
<li>(0.0-0.7): The source image vertically collapses into a thin horizontal line, accompanied by visual glitches (random line shifts) and scanline effects.</li>
<li>(0.7-1.0): The horizontal line fades out, shrinks horizontally, increases in brightness, and exhibits flickering and glow effects before disappearing completely.</li>
</ol>
<p>The effect uses caching (QCache) to store intermediate results for performance. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6379e1c84989c986610bd0a03b0f9694" name="a6379e1c84989c986610bd0a03b0f9694"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6379e1c84989c986610bd0a03b0f9694">&#9670;&#160;</a></span>ElectronicShutdownEffect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ElectronicShutdownEffect::ElectronicShutdownEffect </td>
          <td>(</td>
          <td class="paramtype">QObject *</td>          <td class="paramname"><span class="paramname"><em>parent</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel explicit">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs an <a class="el" href="classElectronicShutdownEffect.html" title="A QGraphicsEffect that simulates an old CRT monitor or electronic device shutting down.">ElectronicShutdownEffect</a>. Initializes the effect, sets up the result cache, and seeds the random generator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>Optional parent QObject. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a71b92c0a1d935a36bfb9c7dcb3f25c53" name="a71b92c0a1d935a36bfb9c7dcb3f25c53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71b92c0a1d935a36bfb9c7dcb3f25c53">&#9670;&#160;</a></span>draw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ElectronicShutdownEffect::draw </td>
          <td>(</td>
          <td class="paramtype">QPainter *</td>          <td class="paramname"><span class="paramname"><em>painter</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overridden draw method that renders the shutdown effect. Retrieves the source pixmap. If progress is minimal, draws the source directly. If progress is maximal, draws nothing. Otherwise, checks a cache for a pre-rendered result at a similar progress level. If not cached or progress changed significantly, it generates the effect based on the current phase (collapsing or fading line), applying glitches, scanlines, brightness changes, and glow effects. The result is stored in the cache. Finally, the cached (or newly generated) pixmap is drawn. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">painter</td><td>The QPainter to use for drawing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4f24231d7d50b3c39192ec9ebdfcf53c" name="a4f24231d7d50b3c39192ec9ebdfcf53c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f24231d7d50b3c39192ec9ebdfcf53c">&#9670;&#160;</a></span>GetProgress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">qreal ElectronicShutdownEffect::GetProgress </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the current progress of the shutdown animation. </p>
<dl class="section return"><dt>Returns</dt><dd>The current progress level (0.0 to 1.0). </dd></dl>

</div>
</div>
<a id="a4cb647caed7dfe52fe5103fd879095dd" name="a4cb647caed7dfe52fe5103fd879095dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cb647caed7dfe52fe5103fd879095dd">&#9670;&#160;</a></span>SetProgress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ElectronicShutdownEffect::SetProgress </td>
          <td>(</td>
          <td class="paramtype">qreal</td>          <td class="paramname"><span class="paramname"><em>progress</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the progress of the shutdown animation. Clamps the value between 0.0 and 1.0 and triggers an update of the effect. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">progress</td><td>The desired progress level (0.0 to 1.0). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a673e6a8b43492a7f261e7b0fb1c8b33d" name="a673e6a8b43492a7f261e7b0fb1c8b33d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a673e6a8b43492a7f261e7b0fb1c8b33d">&#9670;&#160;</a></span>last_progress_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">qreal ElectronicShutdownEffect::last_progress_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the progress value from the last time the cache was updated, used to optimize cache usage. </p>

</div>
</div>
<a id="af039b2b93192bd9a1681170292e754ea" name="af039b2b93192bd9a1681170292e754ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af039b2b93192bd9a1681170292e754ea">&#9670;&#160;</a></span>progress_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">qreal ElectronicShutdownEffect::progress_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current progress level of the shutdown animation (0.0 to 1.0). </p>

</div>
</div>
<a id="aa00db31213db3afbfa53352463f7728c" name="aa00db31213db3afbfa53352463f7728c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa00db31213db3afbfa53352463f7728c">&#9670;&#160;</a></span>result_cache_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QCache&lt;QString, QPixmap&gt; ElectronicShutdownEffect::result_cache_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cache storing pre-rendered effect pixmaps keyed by progress level string for performance. </p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="aac379c6b68eaf4a012527f2e490e4b5b" name="aac379c6b68eaf4a012527f2e490e4b5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac379c6b68eaf4a012527f2e490e4b5b">&#9670;&#160;</a></span>progress</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">qreal ElectronicShutdownEffect::progress</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel read">read</span><span class="mlabel write">write</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Property controlling the progress of the shutdown animation (0.0 to 1.0). Animatable. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/ui/chat/effects/<a class="el" href="electronic__shutdown__effect_8h_source.html">electronic_shutdown_effect.h</a></li>
<li>src/ui/chat/effects/<a class="el" href="electronic__shutdown__effect_8cpp.html">electronic_shutdown_effect.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classElectronicShutdownEffect.html">ElectronicShutdownEffect</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
