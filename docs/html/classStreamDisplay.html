<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wavelength: StreamDisplay Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wavelength
   </div>
   <div id="projectbrief">Privacy-focused, cross-platform, and open-source communication application</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classStreamDisplay.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-slots">Private Slots</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classStreamDisplay-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">StreamDisplay Class Reference<span class="mlabels"><span class="mlabel final">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>A widget that manages and displays messages within a <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a>.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="stream__display_8h_source.html">stream_display.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for StreamDisplay:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classStreamDisplay__inherit__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Collaboration diagram for StreamDisplay:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classStreamDisplay__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structStreamDisplay_1_1MessageData.html">MessageData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal struct to hold data for messages waiting in the queue.  <a href="structStreamDisplay_1_1MessageData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-slots" name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:ae6ecd74e00b97699372afdd45a24d261" id="r_ae6ecd74e00b97699372afdd45a24d261"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6ecd74e00b97699372afdd45a24d261">ClearTransmittingUser</a> () const</td></tr>
<tr class="memdesc:ae6ecd74e00b97699372afdd45a24d261"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a> to clear the transmitting user display.  <br /></td></tr>
<tr class="separator:ae6ecd74e00b97699372afdd45a24d261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe7514d6c07fc4c4f6ea77167d30442c" id="r_abe7514d6c07fc4c4f6ea77167d30442c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe7514d6c07fc4c4f6ea77167d30442c">SetAudioAmplitude</a> (qreal amplitude) const</td></tr>
<tr class="memdesc:abe7514d6c07fc4c4f6ea77167d30442c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forwards the audio amplitude level to the <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a>.  <br /></td></tr>
<tr class="separator:abe7514d6c07fc4c4f6ea77167d30442c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6788531c2bb22cc1a7b258ba0d415f9" id="r_ae6788531c2bb22cc1a7b258ba0d415f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6788531c2bb22cc1a7b258ba0d415f9">SetGlitchIntensity</a> (qreal intensity) const</td></tr>
<tr class="memdesc:ae6788531c2bb22cc1a7b258ba0d415f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the intensity of the glitch effect in the <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a>.  <br /></td></tr>
<tr class="separator:ae6788531c2bb22cc1a7b258ba0d415f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7bb135e22c2898b280be02de580c9a7" id="r_ac7bb135e22c2898b280be02de580c9a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7bb135e22c2898b280be02de580c9a7">SetTransmittingUser</a> (const QString &amp;userId) const</td></tr>
<tr class="memdesc:ac7bb135e22c2898b280be02de580c9a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forwards the transmitting user ID to the <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a>.  <br /></td></tr>
<tr class="separator:ac7bb135e22c2898b280be02de580c9a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab5a908955e6d3ff21fe3838b50a4caa4" id="r_ab5a908955e6d3ff21fe3838b50a4caa4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab5a908955e6d3ff21fe3838b50a4caa4">AddMessage</a> (const QString &amp;message, const QString &amp;message_id, <a class="el" href="classStreamMessage.html#a50627cf1a5de32f0e6863dc437eed765">StreamMessage::MessageType</a> type)</td></tr>
<tr class="memdesc:ab5a908955e6d3ff21fe3838b50a4caa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new message to the display queue or updates an existing progress message. If the message_id is provided and corresponds to a currently displayed progress message, the content of that message is updated. Otherwise, a new <a class="el" href="structStreamDisplay_1_1MessageData.html" title="Internal struct to hold data for messages waiting in the queue.">MessageData</a> entry is created (extracting sender, checking for attachments) and added to the processing queue. Starts the processing timer if the queue was empty.  <br /></td></tr>
<tr class="separator:ab5a908955e6d3ff21fe3838b50a4caa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a368e1870bd78129d0e16e0ca86a4e77b" id="r_a368e1870bd78129d0e16e0ca86a4e77b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a368e1870bd78129d0e16e0ca86a4e77b">Clear</a> ()</td></tr>
<tr class="memdesc:a368e1870bd78129d0e16e0ca86a4e77b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all messages from the display and the processing queue. Calls ClearMessages() on the <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a>, clears the internal queue and map, and stops the message processing timer.  <br /></td></tr>
<tr class="separator:a368e1870bd78129d0e16e0ca86a4e77b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf62745fd5998b75873b324e7adb02a4" id="r_acf62745fd5998b75873b324e7adb02a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf62745fd5998b75873b324e7adb02a4">SetFrequency</a> (const QString &amp;frequency, const QString &amp;name=QString())</td></tr>
<tr class="memdesc:acf62745fd5998b75873b324e7adb02a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the frequency identifier and optional name for the stream. Updates the name displayed in the <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a> and clears any existing messages.  <br /></td></tr>
<tr class="separator:acf62745fd5998b75873b324e7adb02a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab49c3a484e911bc8cf752e2d3791516a" id="r_ab49c3a484e911bc8cf752e2d3791516a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab49c3a484e911bc8cf752e2d3791516a">StreamDisplay</a> (QWidget *parent=nullptr)</td></tr>
<tr class="memdesc:ab49c3a484e911bc8cf752e2d3791516a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a WavelengthStreamDisplay widget. Creates the main layout, instantiates the <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a>, initializes the message queue, progress message map, and the message processing timer.  <br /></td></tr>
<tr class="separator:ab49c3a484e911bc8cf752e2d3791516a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-slots" name="pri-slots"></a>
Private Slots</h2></td></tr>
<tr class="memitem:a9b2f657773a56d360df29998cb79ed3e" id="r_a9b2f657773a56d360df29998cb79ed3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b2f657773a56d360df29998cb79ed3e">OnStreamMessageDestroyed</a> (const QObject *object)</td></tr>
<tr class="memdesc:a9b2f657773a56d360df29998cb79ed3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Slot called when a <a class="el" href="classStreamMessage.html" title="A custom widget representing a single message within the CommunicationStream.">StreamMessage</a> associated with a progress ID is destroyed. Removes the corresponding entry from the displayed_progress_messages_ map to prevent dangling pointers and incorrect update attempts.  <br /></td></tr>
<tr class="separator:a9b2f657773a56d360df29998cb79ed3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba8774044f5e157e128c9429c67c5970" id="r_aba8774044f5e157e128c9429c67c5970"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba8774044f5e157e128c9429c67c5970">ProcessNextQueuedMessage</a> ()</td></tr>
<tr class="memdesc:aba8774044f5e157e128c9429c67c5970"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes the next message from the message_queue_. Dequeues a message, checks if it's an update to an existing progress message. If not, calls the appropriate AddMessage method on <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a>. If it's a progress message, adds the returned <a class="el" href="classStreamMessage.html" title="A custom widget representing a single message within the CommunicationStream.">StreamMessage</a> pointer to the displayed_progress_messages_ map and connects its destroyed() signal. Restarts the timer with a random delay if the queue is not empty.  <br /></td></tr>
<tr class="separator:aba8774044f5e157e128c9429c67c5970"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a1cfade2e6d6e6c27fc75d27791ea9e15" id="r_a1cfade2e6d6e6c27fc75d27791ea9e15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCommunicationStream.html">CommunicationStream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1cfade2e6d6e6c27fc75d27791ea9e15">communication_stream_</a></td></tr>
<tr class="memdesc:a1cfade2e6d6e6c27fc75d27791ea9e15"><td class="mdescLeft">&#160;</td><td class="mdescRight">The underlying widget that handles the visual rendering of the stream and messages.  <br /></td></tr>
<tr class="separator:a1cfade2e6d6e6c27fc75d27791ea9e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4ebcca378c65c78dc205bcf75e81e8d" id="r_ab4ebcca378c65c78dc205bcf75e81e8d"><td class="memItemLeft" align="right" valign="top">QMap&lt; QString, <a class="el" href="classStreamMessage.html">StreamMessage</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4ebcca378c65c78dc205bcf75e81e8d">displayed_progress_messages_</a></td></tr>
<tr class="memdesc:ab4ebcca378c65c78dc205bcf75e81e8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map tracking currently displayed progress messages by their unique ID to allow updates.  <br /></td></tr>
<tr class="separator:ab4ebcca378c65c78dc205bcf75e81e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4707656ad8bbc509e90a7a67f523bd2a" id="r_a4707656ad8bbc509e90a7a67f523bd2a"><td class="memItemLeft" align="right" valign="top">QQueue&lt; <a class="el" href="structStreamDisplay_1_1MessageData.html">MessageData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4707656ad8bbc509e90a7a67f523bd2a">message_queue_</a></td></tr>
<tr class="memdesc:a4707656ad8bbc509e90a7a67f523bd2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue holding messages waiting to be processed and displayed.  <br /></td></tr>
<tr class="separator:a4707656ad8bbc509e90a7a67f523bd2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de91316670e928a62c466b3d8a6821f" id="r_a1de91316670e928a62c466b3d8a6821f"><td class="memItemLeft" align="right" valign="top">QTimer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1de91316670e928a62c466b3d8a6821f">message_timer_</a></td></tr>
<tr class="memdesc:a1de91316670e928a62c466b3d8a6821f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer controlling the delay between displaying queued messages.  <br /></td></tr>
<tr class="separator:a1de91316670e928a62c466b3d8a6821f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A widget that manages and displays messages within a <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a>. </p>
<p>This class acts as a controller for the <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a> widget. It receives messages via the AddMessage slot, queues them, and processes them sequentially with a delay to create a staggered display effect. It handles updating existing progress messages based on their unique ID and manages the lifecycle of displayed messages. It also provides slots to forward control signals (like audio amplitude and transmitting user) to the underlying <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a>. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab49c3a484e911bc8cf752e2d3791516a" name="ab49c3a484e911bc8cf752e2d3791516a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab49c3a484e911bc8cf752e2d3791516a">&#9670;&#160;</a></span>StreamDisplay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StreamDisplay::StreamDisplay </td>
          <td>(</td>
          <td class="paramtype">QWidget *</td>          <td class="paramname"><span class="paramname"><em>parent</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel explicit">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a WavelengthStreamDisplay widget. Creates the main layout, instantiates the <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a>, initializes the message queue, progress message map, and the message processing timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>Optional parent widget. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classStreamDisplay_ab49c3a484e911bc8cf752e2d3791516a_cgraph.svg" width="100%" height="395"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab5a908955e6d3ff21fe3838b50a4caa4" name="ab5a908955e6d3ff21fe3838b50a4caa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5a908955e6d3ff21fe3838b50a4caa4">&#9670;&#160;</a></span>AddMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StreamDisplay::AddMessage </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>message</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>message_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classStreamMessage.html#a50627cf1a5de32f0e6863dc437eed765">StreamMessage::MessageType</a></td>          <td class="paramname"><span class="paramname"><em>type</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a new message to the display queue or updates an existing progress message. If the message_id is provided and corresponds to a currently displayed progress message, the content of that message is updated. Otherwise, a new <a class="el" href="structStreamDisplay_1_1MessageData.html" title="Internal struct to hold data for messages waiting in the queue.">MessageData</a> entry is created (extracting sender, checking for attachments) and added to the processing queue. Starts the processing timer if the queue was empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message content (potentially HTML). </td></tr>
    <tr><td class="paramname">message_id</td><td>A unique identifier for progress messages, empty otherwise. </td></tr>
    <tr><td class="paramname">type</td><td>The type of the message (Received, Transmitted, System). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a368e1870bd78129d0e16e0ca86a4e77b" name="a368e1870bd78129d0e16e0ca86a4e77b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a368e1870bd78129d0e16e0ca86a4e77b">&#9670;&#160;</a></span>Clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StreamDisplay::Clear </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears all messages from the display and the processing queue. Calls ClearMessages() on the <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a>, clears the internal queue and map, and stops the message processing timer. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classStreamDisplay_a368e1870bd78129d0e16e0ca86a4e77b_icgraph.svg" width="400" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae6ecd74e00b97699372afdd45a24d261" name="ae6ecd74e00b97699372afdd45a24d261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6ecd74e00b97699372afdd45a24d261">&#9670;&#160;</a></span>ClearTransmittingUser</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StreamDisplay::ClearTransmittingUser </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells the <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a> to clear the transmitting user display. </p>

</div>
</div>
<a id="a9b2f657773a56d360df29998cb79ed3e" name="a9b2f657773a56d360df29998cb79ed3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b2f657773a56d360df29998cb79ed3e">&#9670;&#160;</a></span>OnStreamMessageDestroyed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StreamDisplay::OnStreamMessageDestroyed </td>
          <td>(</td>
          <td class="paramtype">const QObject *</td>          <td class="paramname"><span class="paramname"><em>object</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Slot called when a <a class="el" href="classStreamMessage.html" title="A custom widget representing a single message within the CommunicationStream.">StreamMessage</a> associated with a progress ID is destroyed. Removes the corresponding entry from the displayed_progress_messages_ map to prevent dangling pointers and incorrect update attempts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>Pointer to the QObject that was destroyed (the <a class="el" href="classStreamMessage.html" title="A custom widget representing a single message within the CommunicationStream.">StreamMessage</a>). </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classStreamDisplay_a9b2f657773a56d360df29998cb79ed3e_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aba8774044f5e157e128c9429c67c5970" name="aba8774044f5e157e128c9429c67c5970"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba8774044f5e157e128c9429c67c5970">&#9670;&#160;</a></span>ProcessNextQueuedMessage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StreamDisplay::ProcessNextQueuedMessage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes the next message from the message_queue_. Dequeues a message, checks if it's an update to an existing progress message. If not, calls the appropriate AddMessage method on <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a>. If it's a progress message, adds the returned <a class="el" href="classStreamMessage.html" title="A custom widget representing a single message within the CommunicationStream.">StreamMessage</a> pointer to the displayed_progress_messages_ map and connects its destroyed() signal. Restarts the timer with a random delay if the queue is not empty. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classStreamDisplay_aba8774044f5e157e128c9429c67c5970_cgraph.svg" width="100%" height="395"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classStreamDisplay_aba8774044f5e157e128c9429c67c5970_icgraph.svg" width="450" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="abe7514d6c07fc4c4f6ea77167d30442c" name="abe7514d6c07fc4c4f6ea77167d30442c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe7514d6c07fc4c4f6ea77167d30442c">&#9670;&#160;</a></span>SetAudioAmplitude</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StreamDisplay::SetAudioAmplitude </td>
          <td>(</td>
          <td class="paramtype">qreal</td>          <td class="paramname"><span class="paramname"><em>amplitude</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Forwards the audio amplitude level to the <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">amplitude</td><td>The current audio amplitude level. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acf62745fd5998b75873b324e7adb02a4" name="acf62745fd5998b75873b324e7adb02a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf62745fd5998b75873b324e7adb02a4">&#9670;&#160;</a></span>SetFrequency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StreamDisplay::SetFrequency </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>name</em></span><span class="paramdefsep"> = </span><span class="paramdefval">QString()</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the frequency identifier and optional name for the stream. Updates the name displayed in the <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a> and clears any existing messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>The frequency identifier (e.g., "100.0"). </td></tr>
    <tr><td class="paramname">name</td><td>Optional display name for the frequency. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classStreamDisplay_acf62745fd5998b75873b324e7adb02a4_cgraph.svg" width="400" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae6788531c2bb22cc1a7b258ba0d415f9" name="ae6788531c2bb22cc1a7b258ba0d415f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6788531c2bb22cc1a7b258ba0d415f9">&#9670;&#160;</a></span>SetGlitchIntensity</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StreamDisplay::SetGlitchIntensity </td>
          <td>(</td>
          <td class="paramtype">qreal</td>          <td class="paramname"><span class="paramname"><em>intensity</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the intensity of the glitch effect in the <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">intensity</td><td>The desired glitch intensity level. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac7bb135e22c2898b280be02de580c9a7" name="ac7bb135e22c2898b280be02de580c9a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7bb135e22c2898b280be02de580c9a7">&#9670;&#160;</a></span>SetTransmittingUser</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StreamDisplay::SetTransmittingUser </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>userId</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Forwards the transmitting user ID to the <a class="el" href="classCommunicationStream.html" title="A custom OpenGL widget displaying an animated communication stream visualization.">CommunicationStream</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userId</td><td>The identifier of the user currently transmitting audio. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1cfade2e6d6e6c27fc75d27791ea9e15" name="a1cfade2e6d6e6c27fc75d27791ea9e15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cfade2e6d6e6c27fc75d27791ea9e15">&#9670;&#160;</a></span>communication_stream_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCommunicationStream.html">CommunicationStream</a>* StreamDisplay::communication_stream_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The underlying widget that handles the visual rendering of the stream and messages. </p>

</div>
</div>
<a id="ab4ebcca378c65c78dc205bcf75e81e8d" name="ab4ebcca378c65c78dc205bcf75e81e8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4ebcca378c65c78dc205bcf75e81e8d">&#9670;&#160;</a></span>displayed_progress_messages_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QMap&lt;QString, <a class="el" href="classStreamMessage.html">StreamMessage</a> *&gt; StreamDisplay::displayed_progress_messages_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map tracking currently displayed progress messages by their unique ID to allow updates. </p>

</div>
</div>
<a id="a4707656ad8bbc509e90a7a67f523bd2a" name="a4707656ad8bbc509e90a7a67f523bd2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4707656ad8bbc509e90a7a67f523bd2a">&#9670;&#160;</a></span>message_queue_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QQueue&lt;<a class="el" href="structStreamDisplay_1_1MessageData.html">MessageData</a>&gt; StreamDisplay::message_queue_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queue holding messages waiting to be processed and displayed. </p>

</div>
</div>
<a id="a1de91316670e928a62c466b3d8a6821f" name="a1de91316670e928a62c466b3d8a6821f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1de91316670e928a62c466b3d8a6821f">&#9670;&#160;</a></span>message_timer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QTimer* StreamDisplay::message_timer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Timer controlling the delay between displaying queued messages. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/ui/chat/<a class="el" href="stream__display_8h_source.html">stream_display.h</a></li>
<li>src/ui/chat/<a class="el" href="stream__display_8cpp.html">stream_display.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classStreamDisplay.html">StreamDisplay</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
