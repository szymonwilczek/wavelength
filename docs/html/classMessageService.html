<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wavelength: MessageService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wavelength
   </div>
   <div id="projectbrief">Privacy-focused, cross-platform, and open-source communication application</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classMessageService.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classMessageService-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">MessageService Class Reference<span class="mlabels"><span class="mlabel final">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Singleton service responsible for sending messages and files over WebSocket connections.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="message__service_8h_source.html">message_service.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MessageService:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService__inherit__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Collaboration diagram for MessageService:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-slots" name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:a4396f2ede94cf2d9a36cf51407db7e14" id="r_a4396f2ede94cf2d9a36cf51407db7e14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4396f2ede94cf2d9a36cf51407db7e14">HandleSendJsonViaSocket</a> (const QString &amp;json_message, const QString &amp;frequency, const QString &amp;progress_message_id)</td></tr>
<tr class="memdesc:a4396f2ede94cf2d9a36cf51407db7e14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Slot connected to the sendJsonViaSocket signal. Performs the actual sending of a JSON message. Finds the socket for the frequency and sends the message. Updates the progress message to indicate success or failure. This runs on the main thread.  <br /></td></tr>
<tr class="separator:a4396f2ede94cf2d9a36cf51407db7e14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6861f3f01891356e425df53280df134a" id="r_a6861f3f01891356e425df53280df134a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6861f3f01891356e425df53280df134a">UpdateProgressMessage</a> (const QString &amp;progress_message_id, const QString &amp;message)</td></tr>
<tr class="memdesc:a6861f3f01891356e425df53280df134a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Slot to update a progress message associated with a file transfer. Emits the progressMessageUpdated signal.  <br /></td></tr>
<tr class="separator:a6861f3f01891356e425df53280df134a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="signals" name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:a3a48f71eba26efb121180a59ec2dfdc4" id="r_a3a48f71eba26efb121180a59ec2dfdc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a48f71eba26efb121180a59ec2dfdc4">audioDataReceived</a> (QString frequency, const QByteArray &amp;audio_data)</td></tr>
<tr class="memdesc:a3a48f71eba26efb121180a59ec2dfdc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when raw audio data is received via a binary WebSocket message. Relayed from WavelengthMessageProcessor.  <br /></td></tr>
<tr class="separator:a3a48f71eba26efb121180a59ec2dfdc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa44f2020e8305b6f34a67356c77bbcb" id="r_aaa44f2020e8305b6f34a67356c77bbcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa44f2020e8305b6f34a67356c77bbcb">messageSent</a> (QString frequency, const QString &amp;formatted_message)</td></tr>
<tr class="memdesc:aaa44f2020e8305b6f34a67356c77bbcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted immediately after a text message is successfully sent via the socket.  <br /></td></tr>
<tr class="separator:aaa44f2020e8305b6f34a67356c77bbcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4635fcf151d68e3cd873b2d7590c7efc" id="r_a4635fcf151d68e3cd873b2d7590c7efc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4635fcf151d68e3cd873b2d7590c7efc">progressMessageUpdated</a> (const QString &amp;message_id, const QString &amp;message)</td></tr>
<tr class="memdesc:a4635fcf151d68e3cd873b2d7590c7efc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted during file processing and sending to update the status display.  <br /></td></tr>
<tr class="separator:a4635fcf151d68e3cd873b2d7590c7efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76b38eb9b8f50d34697c19b136f8ceb5" id="r_a76b38eb9b8f50d34697c19b136f8ceb5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a76b38eb9b8f50d34697c19b136f8ceb5">pttDenied</a> (QString frequency, QString reason)</td></tr>
<tr class="memdesc:a76b38eb9b8f50d34697c19b136f8ceb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when the server denies permission to transmit audio (Push-to-Talk). Relayed from WavelengthMessageProcessor.  <br /></td></tr>
<tr class="separator:a76b38eb9b8f50d34697c19b136f8ceb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7b1e495c6500654fc82767da1a2a7f" id="r_aac7b1e495c6500654fc82767da1a2a7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac7b1e495c6500654fc82767da1a2a7f">pttGranted</a> (QString frequency)</td></tr>
<tr class="memdesc:aac7b1e495c6500654fc82767da1a2a7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when the server grants permission to transmit audio (Push-to-Talk). Relayed from WavelengthMessageProcessor.  <br /></td></tr>
<tr class="separator:aac7b1e495c6500654fc82767da1a2a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe426680ea6451a9b4dc4b7b4e115e25" id="r_abe426680ea6451a9b4dc4b7b4e115e25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe426680ea6451a9b4dc4b7b4e115e25">pttStartReceiving</a> (QString frequency, QString sender_id)</td></tr>
<tr class="memdesc:abe426680ea6451a9b4dc4b7b4e115e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when another user starts transmitting audio on the frequency. Relayed from WavelengthMessageProcessor.  <br /></td></tr>
<tr class="separator:abe426680ea6451a9b4dc4b7b4e115e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a980ef8b65ca246ae6e18e5eb6eb078e5" id="r_a980ef8b65ca246ae6e18e5eb6eb078e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a980ef8b65ca246ae6e18e5eb6eb078e5">pttStopReceiving</a> (QString frequency)</td></tr>
<tr class="memdesc:a980ef8b65ca246ae6e18e5eb6eb078e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when the currently transmitting user stops sending audio. Relayed from WavelengthMessageProcessor.  <br /></td></tr>
<tr class="separator:a980ef8b65ca246ae6e18e5eb6eb078e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ccbdec16931e5061142cbb7062c2eb6" id="r_a3ccbdec16931e5061142cbb7062c2eb6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ccbdec16931e5061142cbb7062c2eb6">remoteAudioAmplitudeUpdate</a> (QString frequency, qreal amplitude)</td></tr>
<tr class="memdesc:a3ccbdec16931e5061142cbb7062c2eb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when the server sends an update about the remote audio amplitude (optional). Relayed from WavelengthMessageProcessor.  <br /></td></tr>
<tr class="separator:a3ccbdec16931e5061142cbb7062c2eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36a3d49b52fad22e0e2d8dc5bb6de6a4" id="r_a36a3d49b52fad22e0e2d8dc5bb6de6a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36a3d49b52fad22e0e2d8dc5bb6de6a4">removeProgressMessage</a> (const QString &amp;message_id)</td></tr>
<tr class="memdesc:a36a3d49b52fad22e0e2d8dc5bb6de6a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted after a file transfer is complete (success or failure) to remove the progress message.  <br /></td></tr>
<tr class="separator:a36a3d49b52fad22e0e2d8dc5bb6de6a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabe00ddfe3f0fb4bcdae08fd977ecc6f" id="r_aabe00ddfe3f0fb4bcdae08fd977ecc6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aabe00ddfe3f0fb4bcdae08fd977ecc6f">sendJsonViaSocket</a> (const QString &amp;json_message, QString frequency, const QString &amp;progress_message_id)</td></tr>
<tr class="memdesc:aabe00ddfe3f0fb4bcdae08fd977ecc6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal signal emitted by the background file processing task when the JSON message is ready to be sent. Connected to the HandleSendJsonViaSocket slot.  <br /></td></tr>
<tr class="separator:aabe00ddfe3f0fb4bcdae08fd977ecc6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a58ac039a1a65646ee84a44dac0008ea3" id="r_a58ac039a1a65646ee84a44dac0008ea3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a58ac039a1a65646ee84a44dac0008ea3">ClearSentMessageCache</a> ()</td></tr>
<tr class="memdesc:a58ac039a1a65646ee84a44dac0008ea3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the internal cache of sent message contents.  <br /></td></tr>
<tr class="separator:a58ac039a1a65646ee84a44dac0008ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac832a6514eb1ed804d16b49bcf455ad0" id="r_ac832a6514eb1ed804d16b49bcf455ad0"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac832a6514eb1ed804d16b49bcf455ad0">GetClientId</a> () const</td></tr>
<tr class="memdesc:ac832a6514eb1ed804d16b49bcf455ad0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the client ID currently associated with this service instance.  <br /></td></tr>
<tr class="separator:ac832a6514eb1ed804d16b49bcf455ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b9bfc929e690ea54c48486d92f22e5e" id="r_a6b9bfc929e690ea54c48486d92f22e5e"><td class="memItemLeft" align="right" valign="top">QMap&lt; QString, QString &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b9bfc929e690ea54c48486d92f22e5e">GetSentMessageCache</a> ()</td></tr>
<tr class="memdesc:a6b9bfc929e690ea54c48486d92f22e5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a pointer to the internal cache of sent message contents. The cache maps message ID to message content.  <br /></td></tr>
<tr class="separator:a6b9bfc929e690ea54c48486d92f22e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a6e9a079ac7a537b6342e1fb63a52dc" id="r_a2a6e9a079ac7a537b6342e1fb63a52dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2a6e9a079ac7a537b6342e1fb63a52dc">MessageService</a> (const <a class="el" href="classMessageService.html">MessageService</a> &amp;)=delete</td></tr>
<tr class="memdesc:a2a6e9a079ac7a537b6342e1fb63a52dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted copy constructor to prevent copying.  <br /></td></tr>
<tr class="separator:a2a6e9a079ac7a537b6342e1fb63a52dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af279c5cabce53187f493ecd81025d4ea" id="r_af279c5cabce53187f493ecd81025d4ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMessageService.html">MessageService</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af279c5cabce53187f493ecd81025d4ea">operator=</a> (const <a class="el" href="classMessageService.html">MessageService</a> &amp;)=delete</td></tr>
<tr class="memdesc:af279c5cabce53187f493ecd81025d4ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted assignment operator to prevent assignment.  <br /></td></tr>
<tr class="separator:af279c5cabce53187f493ecd81025d4ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff7ad6c0302f5f9b4864074eb6675931" id="r_aff7ad6c0302f5f9b4864074eb6675931"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff7ad6c0302f5f9b4864074eb6675931">SendFile</a> (const QString &amp;file_path, const QString &amp;progress_message_id=QString())</td></tr>
<tr class="memdesc:aff7ad6c0302f5f9b4864074eb6675931"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiates the process of sending a file to the currently active frequency. Reads the file, encodes it to base64, determines a file type, and constructs a JSON message of a type "send_file" containing the metadata and encoded data. This entire process (reading, encoding) is offloaded to a background thread using <a class="el" href="classAttachmentQueueManager.html" title="Manages a queue of AttachmentTasks for concurrent execution using a singleton pattern.">AttachmentQueueManager</a>. Emits progressMessageUpdated signals to track the process. Finally, emits sendJsonViaSocket to trigger the actual sending on the main thread.  <br /></td></tr>
<tr class="separator:aff7ad6c0302f5f9b4864074eb6675931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab976b50ce98805f188d946de438ee976" id="r_ab976b50ce98805f188d946de438ee976"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab976b50ce98805f188d946de438ee976">SendFileToServer</a> (const QString &amp;json_message, const QString &amp;frequency, const QString &amp;progress_message_id)</td></tr>
<tr class="memdesc:ab976b50ce98805f188d946de438ee976"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a pre-formatted JSON message (typically containing file data) to the server. This method is intended to be called internally or via signals after file processing. Finds the socket for the given frequency and sends the JSON string. Updates the progress message to indicate success or failure. Schedules removal of the progress message.  <br /></td></tr>
<tr class="separator:ab976b50ce98805f188d946de438ee976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1041f89fa4eed1b98556cc3f93c2077" id="r_ac1041f89fa4eed1b98556cc3f93c2077"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1041f89fa4eed1b98556cc3f93c2077">SendTextMessage</a> (const QString &amp;message)</td></tr>
<tr class="memdesc:ac1041f89fa4eed1b98556cc3f93c2077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a text message to the currently active frequency. Retrieves the active frequency and socket from <a class="el" href="classWavelengthRegistry.html" title="Singleton registry managing active and pending wavelength connections and their associated informatio...">WavelengthRegistry</a>. Constructs a JSON message of type "send_message" including content, sender ID, timestamp, and a unique message ID. Sends the message via the socket. Caches sent message content locally.  <br /></td></tr>
<tr class="separator:ac1041f89fa4eed1b98556cc3f93c2077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6dc928bf3854f4849e862133e9945ec" id="r_ae6dc928bf3854f4849e862133e9945ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6dc928bf3854f4849e862133e9945ec">SetClientId</a> (const QString &amp;clientId)</td></tr>
<tr class="memdesc:ae6dc928bf3854f4849e862133e9945ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the client ID for this service instance.  <br /></td></tr>
<tr class="separator:ae6dc928bf3854f4849e862133e9945ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3d9355ae6f778ed4799141d921b6e7e4" id="r_a3d9355ae6f778ed4799141d921b6e7e4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classMessageService.html">MessageService</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d9355ae6f778ed4799141d921b6e7e4">GetInstance</a> ()</td></tr>
<tr class="memdesc:a3d9355ae6f778ed4799141d921b6e7e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the singleton instance of the <a class="el" href="classMessageService.html" title="Singleton service responsible for sending messages and files over WebSocket connections.">MessageService</a>.  <br /></td></tr>
<tr class="separator:a3d9355ae6f778ed4799141d921b6e7e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7fee176b576b103691c4fcc39aaac9e" id="r_aa7fee176b576b103691c4fcc39aaac9e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7fee176b576b103691c4fcc39aaac9e">SendAudioData</a> (const QString &amp;frequency, const QByteArray &amp;audio_data)</td></tr>
<tr class="memdesc:aa7fee176b576b103691c4fcc39aaac9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends raw audio data as a binary message for the specified frequency. Used for transmitting audio during an active PTT session.  <br /></td></tr>
<tr class="separator:aa7fee176b576b103691c4fcc39aaac9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75fb7423ceb5f01542eb53c93c332df7" id="r_a75fb7423ceb5f01542eb53c93c332df7"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75fb7423ceb5f01542eb53c93c332df7">SendPttRelease</a> (const QString &amp;frequency)</td></tr>
<tr class="memdesc:a75fb7423ceb5f01542eb53c93c332df7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a Push-to-Talk (PTT) release message for the specified frequency. Constructs a JSON message of type "release_ptt" and sends it via the frequency's socket.  <br /></td></tr>
<tr class="separator:a75fb7423ceb5f01542eb53c93c332df7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630325196d5dd1c14713691505301d74" id="r_a630325196d5dd1c14713691505301d74"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a630325196d5dd1c14713691505301d74">SendPttRequest</a> (const QString &amp;frequency)</td></tr>
<tr class="memdesc:a630325196d5dd1c14713691505301d74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a Push-to-Talk (PTT) request message for the specified frequency. Constructs a JSON message of type "request_ptt" and sends it via the frequency's socket.  <br /></td></tr>
<tr class="separator:a630325196d5dd1c14713691505301d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad74bc604024156fff3b840942187037e" id="r_ad74bc604024156fff3b840942187037e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad74bc604024156fff3b840942187037e">MessageService</a> (QObject *parent=nullptr)</td></tr>
<tr class="memdesc:ad74bc604024156fff3b840942187037e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private constructor to enforce the singleton pattern. Connects the internal sendJsonViaSocket signal to the HandleSendJsonViaSocket slot.  <br /></td></tr>
<tr class="separator:ad74bc604024156fff3b840942187037e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9cf51fe9d5ad331987560d2bed6ffc" id="r_a4b9cf51fe9d5ad331987560d2bed6ffc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4b9cf51fe9d5ad331987560d2bed6ffc">~MessageService</a> () override=default</td></tr>
<tr class="memdesc:a4b9cf51fe9d5ad331987560d2bed6ffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private destructor.  <br /></td></tr>
<tr class="separator:a4b9cf51fe9d5ad331987560d2bed6ffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:ac47c8ae3b3defb430c71fcc9b0636615" id="r_ac47c8ae3b3defb430c71fcc9b0636615"><td class="memItemLeft" align="right" valign="top">static QWebSocket *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac47c8ae3b3defb430c71fcc9b0636615">GetSocketForFrequency</a> (const QString &amp;frequency)</td></tr>
<tr class="memdesc:ac47c8ae3b3defb430c71fcc9b0636615"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to retrieve the active WebSocket connection for a given frequency. Uses <a class="el" href="classWavelengthRegistry.html" title="Singleton registry managing active and pending wavelength connections and their associated informatio...">WavelengthRegistry</a> to look up the socket. Includes checks for validity.  <br /></td></tr>
<tr class="separator:ac47c8ae3b3defb430c71fcc9b0636615"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5b167a8bcdbbaaa128c214aecb1886e5" id="r_a5b167a8bcdbbaaa128c214aecb1886e5"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b167a8bcdbbaaa128c214aecb1886e5">client_id_</a></td></tr>
<tr class="memdesc:a5b167a8bcdbbaaa128c214aecb1886e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the client ID associated with this service instance.  <br /></td></tr>
<tr class="separator:a5b167a8bcdbbaaa128c214aecb1886e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1bc897a7a516a5b0ece7be694f52b6e" id="r_ab1bc897a7a516a5b0ece7be694f52b6e"><td class="memItemLeft" align="right" valign="top">QMap&lt; QString, QString &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab1bc897a7a516a5b0ece7be694f52b6e">sent_messages_</a></td></tr>
<tr class="memdesc:ab1bc897a7a516a5b0ece7be694f52b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache storing the content of recently sent text messages, mapped by message ID.  <br /></td></tr>
<tr class="separator:ab1bc897a7a516a5b0ece7be694f52b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Singleton service responsible for sending messages and files over WebSocket connections. </p>
<p>This class manages the sending of text messages, files (as base64 encoded JSON), Push-to-Talk (PTT) requests/releases, and raw audio data for specific frequencies (wavelengths). It interacts with <a class="el" href="classWavelengthRegistry.html" title="Singleton registry managing active and pending wavelength connections and their associated informatio...">WavelengthRegistry</a> to find the appropriate WebSocket connection for a given frequency. File sending is handled asynchronously using <a class="el" href="classAttachmentQueueManager.html" title="Manages a queue of AttachmentTasks for concurrent execution using a singleton pattern.">AttachmentQueueManager</a> to avoid blocking the main thread. It provides signals for tracking message sending progress and status, as well as PTT and audio events. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2a6e9a079ac7a537b6342e1fb63a52dc" name="a2a6e9a079ac7a537b6342e1fb63a52dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a6e9a079ac7a537b6342e1fb63a52dc">&#9670;&#160;</a></span>MessageService() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MessageService::MessageService </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMessageService.html">MessageService</a> &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel delete">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deleted copy constructor to prevent copying. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_a2a6e9a079ac7a537b6342e1fb63a52dc_cgraph.svg" width="236" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService_a2a6e9a079ac7a537b6342e1fb63a52dc_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ad74bc604024156fff3b840942187037e" name="ad74bc604024156fff3b840942187037e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad74bc604024156fff3b840942187037e">&#9670;&#160;</a></span>MessageService() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MessageService::MessageService </td>
          <td>(</td>
          <td class="paramtype">QObject *</td>          <td class="paramname"><span class="paramname"><em>parent</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel explicit">explicit</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private constructor to enforce the singleton pattern. Connects the internal sendJsonViaSocket signal to the HandleSendJsonViaSocket slot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>Optional parent QObject. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService_ad74bc604024156fff3b840942187037e_cgraph.svg" width="100%" height="564"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a4b9cf51fe9d5ad331987560d2bed6ffc" name="a4b9cf51fe9d5ad331987560d2bed6ffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b9cf51fe9d5ad331987560d2bed6ffc">&#9670;&#160;</a></span>~MessageService()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MessageService::~MessageService </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel private">private</span><span class="mlabel default">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3a48f71eba26efb121180a59ec2dfdc4" name="a3a48f71eba26efb121180a59ec2dfdc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a48f71eba26efb121180a59ec2dfdc4">&#9670;&#160;</a></span>audioDataReceived</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MessageService::audioDataReceived </td>
          <td>(</td>
          <td class="paramtype">QString</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QByteArray &amp;</td>          <td class="paramname"><span class="paramname"><em>audio_data</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted when raw audio data is received via a binary WebSocket message. Relayed from WavelengthMessageProcessor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>The frequency the audio data belongs to. </td></tr>
    <tr><td class="paramname">audio_data</td><td>The raw audio data bytes. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_a3a48f71eba26efb121180a59ec2dfdc4_icgraph.svg" width="622" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a58ac039a1a65646ee84a44dac0008ea3" name="a58ac039a1a65646ee84a44dac0008ea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58ac039a1a65646ee84a44dac0008ea3">&#9670;&#160;</a></span>ClearSentMessageCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MessageService::ClearSentMessageCache </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the internal cache of sent message contents. </p>

</div>
</div>
<a id="ac832a6514eb1ed804d16b49bcf455ad0" name="ac832a6514eb1ed804d16b49bcf455ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac832a6514eb1ed804d16b49bcf455ad0">&#9670;&#160;</a></span>GetClientId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString MessageService::GetClientId </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel nodiscard">nodiscard</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the client ID currently associated with this service instance. </p>
<dl class="section return"><dt>Returns</dt><dd>The client ID string. </dd></dl>

</div>
</div>
<a id="a3d9355ae6f778ed4799141d921b6e7e4" name="a3d9355ae6f778ed4799141d921b6e7e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d9355ae6f778ed4799141d921b6e7e4">&#9670;&#160;</a></span>GetInstance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classMessageService.html">MessageService</a> * MessageService::GetInstance </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the singleton instance of the <a class="el" href="classMessageService.html" title="Singleton service responsible for sending messages and files over WebSocket connections.">MessageService</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the singleton <a class="el" href="classMessageService.html" title="Singleton service responsible for sending messages and files over WebSocket connections.">MessageService</a> instance. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_a3d9355ae6f778ed4799141d921b6e7e4_cgraph.svg" width="483" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService_a3d9355ae6f778ed4799141d921b6e7e4_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a6b9bfc929e690ea54c48486d92f22e5e" name="a6b9bfc929e690ea54c48486d92f22e5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b9bfc929e690ea54c48486d92f22e5e">&#9670;&#160;</a></span>GetSentMessageCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QMap&lt; QString, QString &gt; * MessageService::GetSentMessageCache </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a pointer to the internal cache of sent message contents. The cache maps message ID to message content. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the QMap storing sent message contents. </dd></dl>

</div>
</div>
<a id="ac47c8ae3b3defb430c71fcc9b0636615" name="ac47c8ae3b3defb430c71fcc9b0636615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac47c8ae3b3defb430c71fcc9b0636615">&#9670;&#160;</a></span>GetSocketForFrequency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QWebSocket * MessageService::GetSocketForFrequency </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to retrieve the active WebSocket connection for a given frequency. Uses <a class="el" href="classWavelengthRegistry.html" title="Singleton registry managing active and pending wavelength connections and their associated informatio...">WavelengthRegistry</a> to look up the socket. Includes checks for validity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>The frequency whose socket is needed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the QWebSocket if found and valid, nullptr otherwise. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_ac47c8ae3b3defb430c71fcc9b0636615_cgraph.svg" width="580" height="140"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService_ac47c8ae3b3defb430c71fcc9b0636615_icgraph.svg" width="100%" height="414"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a4396f2ede94cf2d9a36cf51407db7e14" name="a4396f2ede94cf2d9a36cf51407db7e14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4396f2ede94cf2d9a36cf51407db7e14">&#9670;&#160;</a></span>HandleSendJsonViaSocket</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MessageService::HandleSendJsonViaSocket </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>json_message</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>progress_message_id</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Slot connected to the sendJsonViaSocket signal. Performs the actual sending of a JSON message. Finds the socket for the frequency and sends the message. Updates the progress message to indicate success or failure. This runs on the main thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">json_message</td><td>The JSON string message to send (usually containing file data). </td></tr>
    <tr><td class="paramname">frequency</td><td>The target frequency. </td></tr>
    <tr><td class="paramname">progress_message_id</td><td>The ID associated with the progress message for this transfer. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_a4396f2ede94cf2d9a36cf51407db7e14_cgraph.svg" width="628" height="352"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_a4396f2ede94cf2d9a36cf51407db7e14_icgraph.svg" width="483" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aaa44f2020e8305b6f34a67356c77bbcb" name="aaa44f2020e8305b6f34a67356c77bbcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa44f2020e8305b6f34a67356c77bbcb">&#9670;&#160;</a></span>messageSent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MessageService::messageSent </td>
          <td>(</td>
          <td class="paramtype">QString</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>formatted_message</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted immediately after a text message is successfully sent via the socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>The frequency the message was sent to. </td></tr>
    <tr><td class="paramname">formatted_message</td><td>The HTML-formatted version of the sent message (for local display). </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_aaa44f2020e8305b6f34a67356c77bbcb_icgraph.svg" width="586" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af279c5cabce53187f493ecd81025d4ea" name="af279c5cabce53187f493ecd81025d4ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af279c5cabce53187f493ecd81025d4ea">&#9670;&#160;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMessageService.html">MessageService</a> &amp; MessageService::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMessageService.html">MessageService</a> &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel delete">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deleted assignment operator to prevent assignment. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_af279c5cabce53187f493ecd81025d4ea_cgraph.svg" width="467" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a4635fcf151d68e3cd873b2d7590c7efc" name="a4635fcf151d68e3cd873b2d7590c7efc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4635fcf151d68e3cd873b2d7590c7efc">&#9670;&#160;</a></span>progressMessageUpdated</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MessageService::progressMessageUpdated </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>message_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>message</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted during file processing and sending to update the status display. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message_id</td><td>The unique ID associated with this file transfer's progress messages. </td></tr>
    <tr><td class="paramname">message</td><td>The HTML-formatted status update message. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService_a4635fcf151d68e3cd873b2d7590c7efc_icgraph.svg" width="100%" height="487"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a76b38eb9b8f50d34697c19b136f8ceb5" name="a76b38eb9b8f50d34697c19b136f8ceb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76b38eb9b8f50d34697c19b136f8ceb5">&#9670;&#160;</a></span>pttDenied</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MessageService::pttDenied </td>
          <td>(</td>
          <td class="paramtype">QString</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString</td>          <td class="paramname"><span class="paramname"><em>reason</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted when the server denies permission to transmit audio (Push-to-Talk). Relayed from WavelengthMessageProcessor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>The frequency for which PTT was denied. </td></tr>
    <tr><td class="paramname">reason</td><td>The reason provided for the denial. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_a76b38eb9b8f50d34697c19b136f8ceb5_icgraph.svg" width="620" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aac7b1e495c6500654fc82767da1a2a7f" name="aac7b1e495c6500654fc82767da1a2a7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac7b1e495c6500654fc82767da1a2a7f">&#9670;&#160;</a></span>pttGranted</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MessageService::pttGranted </td>
          <td>(</td>
          <td class="paramtype">QString</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted when the server grants permission to transmit audio (Push-to-Talk). Relayed from WavelengthMessageProcessor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>The frequency for which PTT was granted. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_aac7b1e495c6500654fc82767da1a2a7f_icgraph.svg" width="626" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="abe426680ea6451a9b4dc4b7b4e115e25" name="abe426680ea6451a9b4dc4b7b4e115e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe426680ea6451a9b4dc4b7b4e115e25">&#9670;&#160;</a></span>pttStartReceiving</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MessageService::pttStartReceiving </td>
          <td>(</td>
          <td class="paramtype">QString</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString</td>          <td class="paramname"><span class="paramname"><em>sender_id</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted when another user starts transmitting audio on the frequency. Relayed from WavelengthMessageProcessor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>The frequency where transmission started. </td></tr>
    <tr><td class="paramname">sender_id</td><td>The ID of the user transmitting. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_abe426680ea6451a9b4dc4b7b4e115e25_icgraph.svg" width="608" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a980ef8b65ca246ae6e18e5eb6eb078e5" name="a980ef8b65ca246ae6e18e5eb6eb078e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a980ef8b65ca246ae6e18e5eb6eb078e5">&#9670;&#160;</a></span>pttStopReceiving</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MessageService::pttStopReceiving </td>
          <td>(</td>
          <td class="paramtype">QString</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted when the currently transmitting user stops sending audio. Relayed from WavelengthMessageProcessor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>The frequency where transmission stopped. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_a980ef8b65ca246ae6e18e5eb6eb078e5_icgraph.svg" width="663" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3ccbdec16931e5061142cbb7062c2eb6" name="a3ccbdec16931e5061142cbb7062c2eb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ccbdec16931e5061142cbb7062c2eb6">&#9670;&#160;</a></span>remoteAudioAmplitudeUpdate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MessageService::remoteAudioAmplitudeUpdate </td>
          <td>(</td>
          <td class="paramtype">QString</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">qreal</td>          <td class="paramname"><span class="paramname"><em>amplitude</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted when the server sends an update about the remote audio amplitude (optional). Relayed from WavelengthMessageProcessor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>The frequency the amplitude update is for. </td></tr>
    <tr><td class="paramname">amplitude</td><td>The current amplitude level (typically 0.0 to 1.0). </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_a3ccbdec16931e5061142cbb7062c2eb6_icgraph.svg" width="638" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a36a3d49b52fad22e0e2d8dc5bb6de6a4" name="a36a3d49b52fad22e0e2d8dc5bb6de6a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36a3d49b52fad22e0e2d8dc5bb6de6a4">&#9670;&#160;</a></span>removeProgressMessage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MessageService::removeProgressMessage </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>message_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted after a file transfer is complete (success or failure) to remove the progress message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message_id</td><td>The unique ID of the progress message to remove. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_a36a3d49b52fad22e0e2d8dc5bb6de6a4_icgraph.svg" width="459" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa7fee176b576b103691c4fcc39aaac9e" name="aa7fee176b576b103691c4fcc39aaac9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7fee176b576b103691c4fcc39aaac9e">&#9670;&#160;</a></span>SendAudioData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MessageService::SendAudioData </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QByteArray &amp;</td>          <td class="paramname"><span class="paramname"><em>audio_data</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends raw audio data as a binary message for the specified frequency. Used for transmitting audio during an active PTT session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>The frequency the audio data belongs to. </td></tr>
    <tr><td class="paramname">audio_data</td><td>The raw audio data bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the binary message was sent successfully (socket valid and data sent), false otherwise. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService_aa7fee176b576b103691c4fcc39aaac9e_cgraph.svg" width="100%" height="405"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aff7ad6c0302f5f9b4864074eb6675931" name="aff7ad6c0302f5f9b4864074eb6675931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff7ad6c0302f5f9b4864074eb6675931">&#9670;&#160;</a></span>SendFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MessageService::SendFile </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>file_path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>progress_message_id</em></span><span class="paramdefsep"> = </span><span class="paramdefval">QString()</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiates the process of sending a file to the currently active frequency. Reads the file, encodes it to base64, determines a file type, and constructs a JSON message of a type "send_file" containing the metadata and encoded data. This entire process (reading, encoding) is offloaded to a background thread using <a class="el" href="classAttachmentQueueManager.html" title="Manages a queue of AttachmentTasks for concurrent execution using a singleton pattern.">AttachmentQueueManager</a>. Emits progressMessageUpdated signals to track the process. Finally, emits sendJsonViaSocket to trigger the actual sending on the main thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_path</td><td>The local path to the file to be sent. </td></tr>
    <tr><td class="paramname">progress_message_id</td><td>Optional unique ID to associate with progress update messages. If empty, a new one is generated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the file sending a task was successfully queued, false otherwise (e.g., empty path). </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService_aff7ad6c0302f5f9b4864074eb6675931_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService_aff7ad6c0302f5f9b4864074eb6675931_icgraph.svg" width="100%" height="395"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ab976b50ce98805f188d946de438ee976" name="ab976b50ce98805f188d946de438ee976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab976b50ce98805f188d946de438ee976">&#9670;&#160;</a></span>SendFileToServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MessageService::SendFileToServer </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>json_message</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>progress_message_id</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a pre-formatted JSON message (typically containing file data) to the server. This method is intended to be called internally or via signals after file processing. Finds the socket for the given frequency and sends the JSON string. Updates the progress message to indicate success or failure. Schedules removal of the progress message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">json_message</td><td>The JSON string message to send. </td></tr>
    <tr><td class="paramname">frequency</td><td>The target frequency. </td></tr>
    <tr><td class="paramname">progress_message_id</td><td>The ID associated with the progress message for this file transfer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the message was sent successfully, false if the socket is invalid. </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated</a></b></dt><dd>This method seems redundant with HandleSendJsonViaSocket and might be removed. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService_ab976b50ce98805f188d946de438ee976_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aabe00ddfe3f0fb4bcdae08fd977ecc6f" name="aabe00ddfe3f0fb4bcdae08fd977ecc6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabe00ddfe3f0fb4bcdae08fd977ecc6f">&#9670;&#160;</a></span>sendJsonViaSocket</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MessageService::sendJsonViaSocket </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>json_message</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>progress_message_id</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal signal emitted by the background file processing task when the JSON message is ready to be sent. Connected to the HandleSendJsonViaSocket slot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">json_message</td><td>The complete JSON message string containing file metadata and base64 data. </td></tr>
    <tr><td class="paramname">frequency</td><td>The target frequency. </td></tr>
    <tr><td class="paramname">progress_message_id</td><td>The ID associated with the progress message for this transfer. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService_aabe00ddfe3f0fb4bcdae08fd977ecc6f_icgraph.svg" width="100%" height="395"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a75fb7423ceb5f01542eb53c93c332df7" name="a75fb7423ceb5f01542eb53c93c332df7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75fb7423ceb5f01542eb53c93c332df7">&#9670;&#160;</a></span>SendPttRelease()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MessageService::SendPttRelease </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends a Push-to-Talk (PTT) release message for the specified frequency. Constructs a JSON message of type "release_ptt" and sends it via the frequency's socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>The frequency for which PTT is being released. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the release message was sent successfully (socket valid), false otherwise. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService_a75fb7423ceb5f01542eb53c93c332df7_cgraph.svg" width="100%" height="405"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService_a75fb7423ceb5f01542eb53c93c332df7_icgraph.svg" width="100%" height="420"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a630325196d5dd1c14713691505301d74" name="a630325196d5dd1c14713691505301d74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a630325196d5dd1c14713691505301d74">&#9670;&#160;</a></span>SendPttRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MessageService::SendPttRequest </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends a Push-to-Talk (PTT) request message for the specified frequency. Constructs a JSON message of type "request_ptt" and sends it via the frequency's socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>The frequency for which PTT is requested. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the request was sent successfully (socket valid), false otherwise. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService_a630325196d5dd1c14713691505301d74_cgraph.svg" width="100%" height="405"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService_a630325196d5dd1c14713691505301d74_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac1041f89fa4eed1b98556cc3f93c2077" name="ac1041f89fa4eed1b98556cc3f93c2077"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1041f89fa4eed1b98556cc3f93c2077">&#9670;&#160;</a></span>SendTextMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MessageService::SendTextMessage </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a text message to the currently active frequency. Retrieves the active frequency and socket from <a class="el" href="classWavelengthRegistry.html" title="Singleton registry managing active and pending wavelength connections and their associated informatio...">WavelengthRegistry</a>. Constructs a JSON message of type "send_message" including content, sender ID, timestamp, and a unique message ID. Sends the message via the socket. Caches sent message content locally. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The text content of the message to send. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the message was sent successfully, false if no active frequency, socket invalid, etc. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classMessageService_ac1041f89fa4eed1b98556cc3f93c2077_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_ac1041f89fa4eed1b98556cc3f93c2077_icgraph.svg" width="600" height="99"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae6dc928bf3854f4849e862133e9945ec" name="ae6dc928bf3854f4849e862133e9945ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6dc928bf3854f4849e862133e9945ec">&#9670;&#160;</a></span>SetClientId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MessageService::SetClientId </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>clientId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the client ID for this service instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clientId</td><td>The client ID string to set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6861f3f01891356e425df53280df134a" name="a6861f3f01891356e425df53280df134a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6861f3f01891356e425df53280df134a">&#9670;&#160;</a></span>UpdateProgressMessage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MessageService::UpdateProgressMessage </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>progress_message_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>message</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Slot to update a progress message associated with a file transfer. Emits the progressMessageUpdated signal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">progress_message_id</td><td>The ID of the progress message to update. </td></tr>
    <tr><td class="paramname">message</td><td>The new HTML-formatted status message. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_a6861f3f01891356e425df53280df134a_cgraph.svg" width="458" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classMessageService_a6861f3f01891356e425df53280df134a_icgraph.svg" width="459" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5b167a8bcdbbaaa128c214aecb1886e5" name="a5b167a8bcdbbaaa128c214aecb1886e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b167a8bcdbbaaa128c214aecb1886e5">&#9670;&#160;</a></span>client_id_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString MessageService::client_id_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the client ID associated with this service instance. </p>

</div>
</div>
<a id="ab1bc897a7a516a5b0ece7be694f52b6e" name="ab1bc897a7a516a5b0ece7be694f52b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1bc897a7a516a5b0ece7be694f52b6e">&#9670;&#160;</a></span>sent_messages_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QMap&lt;QString, QString&gt; MessageService::sent_messages_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cache storing the content of recently sent text messages, mapped by message ID. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/chat/messages/services/<a class="el" href="message__service_8h_source.html">message_service.h</a></li>
<li>src/chat/messages/services/<a class="el" href="message__service_8cpp.html">message_service.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classMessageService.html">MessageService</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
