<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wavelength: SystemOverrideManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wavelength
   </div>
   <div id="projectbrief">Privacy-focused, cross-platform, and open-source communication application</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classSystemOverrideManager.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-slots">Private Slots</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classSystemOverrideManager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">SystemOverrideManager Class Reference<span class="mlabels"><span class="mlabel final">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Manages a "system override" sequence involving visual and system-level changes.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="system__override__manager_8h_source.html">system_override_manager.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SystemOverrideManager:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager__inherit__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Collaboration diagram for SystemOverrideManager:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-slots" name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:a2c03d5744eeabdefc7d14ceea6dfdd75" id="r_a2c03d5744eeabdefc7d14ceea6dfdd75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c03d5744eeabdefc7d14ceea6dfdd75">InitiateOverrideSequence</a> (bool is_first_time)</td></tr>
<tr class="memdesc:a2c03d5744eeabdefc7d14ceea6dfdd75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiates the full system override sequence. Installs input hooks (Windows), changes wallpaper, minimizes windows, sends a notification, and shows the floating animation widget.  <br /></td></tr>
<tr class="separator:a2c03d5744eeabdefc7d14ceea6dfdd75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0834ff9c3ad9bfec1d08ba05648e6122" id="r_a0834ff9c3ad9bfec1d08ba05648e6122"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0834ff9c3ad9bfec1d08ba05648e6122">RestoreSystemState</a> ()</td></tr>
<tr class="memdesc:a0834ff9c3ad9bfec1d08ba05648e6122"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restores the system state to normal. Uninstalls input hooks (Windows), restores the original wallpaper, removes the temporary wallpaper file, closes the floating widget, and emits <a class="el" href="#ac2593eaad2d059efe9595fe96886ba7d" title="Emitted when the system override sequence has finished and the system state has been restored.">overrideFinished()</a>. On Windows, attempts to relaunch the application normally and quit the elevated instance.  <br /></td></tr>
<tr class="separator:a0834ff9c3ad9bfec1d08ba05648e6122"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="signals" name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:ac2593eaad2d059efe9595fe96886ba7d" id="r_ac2593eaad2d059efe9595fe96886ba7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac2593eaad2d059efe9595fe96886ba7d">overrideFinished</a> ()</td></tr>
<tr class="memdesc:ac2593eaad2d059efe9595fe96886ba7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when the system override sequence has finished and the system state has been restored.  <br /></td></tr>
<tr class="separator:ac2593eaad2d059efe9595fe96886ba7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5383fb99e913ab8471a46e01ba4e4a75" id="r_a5383fb99e913ab8471a46e01ba4e4a75"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5383fb99e913ab8471a46e01ba4e4a75">SystemOverrideManager</a> (QObject *parent=nullptr)</td></tr>
<tr class="memdesc:a5383fb99e913ab8471a46e01ba4e4a75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classSystemOverrideManager.html" title="Manages a &quot;system override&quot; sequence involving visual and system-level changes.">SystemOverrideManager</a>. Initializes member variables, sets up the system tray icon for notifications, and initializes the media player. Performs COM initialization on Windows.  <br /></td></tr>
<tr class="separator:a5383fb99e913ab8471a46e01ba4e4a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a21907f73c99fc8dd4defaadfd5f48" id="r_a97a21907f73c99fc8dd4defaadfd5f48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97a21907f73c99fc8dd4defaadfd5f48">~SystemOverrideManager</a> () override</td></tr>
<tr class="memdesc:a97a21907f73c99fc8dd4defaadfd5f48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. Ensures the system state is restored if the override is active. Cleans up the floating widget, temporary wallpaper file, and uninstalls hooks on Windows. Performs COM uninitialization on Windows.  <br /></td></tr>
<tr class="separator:a97a21907f73c99fc8dd4defaadfd5f48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-slots" name="pri-slots"></a>
Private Slots</h2></td></tr>
<tr class="memitem:a1d774843ddf2350e4b0ebd78777733bf" id="r_a1d774843ddf2350e4b0ebd78777733bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d774843ddf2350e4b0ebd78777733bf">HandleFloatingWidgetClosed</a> ()</td></tr>
<tr class="memdesc:a1d774843ddf2350e4b0ebd78777733bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Slot called when the <a class="el" href="classFloatingEnergySphereWidget.html" title="An OpenGL widget displaying a floating, interactive energy sphere.">FloatingEnergySphereWidget</a> emits its widgetClosed signal. Cleans up the widget pointer and triggers system state restoration after a delay.  <br /></td></tr>
<tr class="separator:a1d774843ddf2350e4b0ebd78777733bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a3de31fe6a1e398ee6f57a69d710e5595" id="r_a3de31fe6a1e398ee6f57a69d710e5595"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3de31fe6a1e398ee6f57a69d710e5595">SendSystemNotification</a> (const QString &amp;title, const QString &amp;message) const</td></tr>
<tr class="memdesc:a3de31fe6a1e398ee6f57a69d710e5595"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a system notification using QSystemTrayIcon. Ensures the tray icon is visible before sending.  <br /></td></tr>
<tr class="separator:a3de31fe6a1e398ee6f57a69d710e5595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55be1ff40ee203da7ed94a15e7e3de5" id="r_ad55be1ff40ee203da7ed94a15e7e3de5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad55be1ff40ee203da7ed94a15e7e3de5">ShowFloatingAnimationWidget</a> (bool is_first_time)</td></tr>
<tr class="memdesc:ad55be1ff40ee203da7ed94a15e7e3de5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates, configures, positions, and shows the <a class="el" href="classFloatingEnergySphereWidget.html" title="An OpenGL widget displaying a floating, interactive energy sphere.">FloatingEnergySphereWidget</a>. Connects the necessary signals for closing and sequence completion.  <br /></td></tr>
<tr class="separator:ad55be1ff40ee203da7ed94a15e7e3de5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:afa982397c7746f522e03b4af481591a6" id="r_afa982397c7746f522e03b4af481591a6"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa982397c7746f522e03b4af481591a6">ChangeWallpaper</a> ()</td></tr>
<tr class="memdesc:afa982397c7746f522e03b4af481591a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the current wallpaper path and sets the desktop wallpaper to a temporary black image.  <br /></td></tr>
<tr class="separator:afa982397c7746f522e03b4af481591a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa26c4f3d7965598587d9aa98f803c64" id="r_afa26c4f3d7965598587d9aa98f803c64"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa26c4f3d7965598587d9aa98f803c64">MinimizeAllWindows</a> ()</td></tr>
<tr class="memdesc:afa26c4f3d7965598587d9aa98f803c64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimizes all open windows on the desktop (Windows only). Uses COM or a fallback method.  <br /></td></tr>
<tr class="separator:afa26c4f3d7965598587d9aa98f803c64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8147e73709b13a6948f5ff871e2fd5c4" id="r_a8147e73709b13a6948f5ff871e2fd5c4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8147e73709b13a6948f5ff871e2fd5c4">RelaunchNormally</a> (const QStringList &amp;arguments=QStringList())</td></tr>
<tr class="memdesc:a8147e73709b13a6948f5ff871e2fd5c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to relaunch the application without administrative privileges (Windows only). Used after the override sequence to return to a normal instance.  <br /></td></tr>
<tr class="separator:a8147e73709b13a6948f5ff871e2fd5c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96048d245f236a58c59e8212c4642bf9" id="r_a96048d245f236a58c59e8212c4642bf9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96048d245f236a58c59e8212c4642bf9">RestoreWallpaper</a> ()</td></tr>
<tr class="memdesc:a96048d245f236a58c59e8212c4642bf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restores the original desktop wallpaper saved by <a class="el" href="#afa982397c7746f522e03b4af481591a6" title="Saves the current wallpaper path and sets the desktop wallpaper to a temporary black image.">ChangeWallpaper()</a>. Also removes the temporary black wallpaper file.  <br /></td></tr>
<tr class="separator:a96048d245f236a58c59e8212c4642bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a6ec751988233738acb068c33880fb398" id="r_a6ec751988233738acb068c33880fb398"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFloatingEnergySphereWidget.html">FloatingEnergySphereWidget</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6ec751988233738acb068c33880fb398">floating_widget_</a></td></tr>
<tr class="memdesc:a6ec751988233738acb068c33880fb398"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the floating energy sphere widget instance.  <br /></td></tr>
<tr class="separator:a6ec751988233738acb068c33880fb398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11bebff0f3c877c50ecda910e6a5ebb5" id="r_a11bebff0f3c877c50ecda910e6a5ebb5"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11bebff0f3c877c50ecda910e6a5ebb5">original_wallpaper_path_</a></td></tr>
<tr class="memdesc:a11bebff0f3c877c50ecda910e6a5ebb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the path to the user's original desktop wallpaper.  <br /></td></tr>
<tr class="separator:a11bebff0f3c877c50ecda910e6a5ebb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab4d72ec86f97e31648a8c1ccdc1a832" id="r_aab4d72ec86f97e31648a8c1ccdc1a832"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab4d72ec86f97e31648a8c1ccdc1a832">override_active_</a></td></tr>
<tr class="memdesc:aab4d72ec86f97e31648a8c1ccdc1a832"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating if the system override sequence is currently active.  <br /></td></tr>
<tr class="separator:aab4d72ec86f97e31648a8c1ccdc1a832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac921a3d7c41f98ef1f5888462dee3f99" id="r_ac921a3d7c41f98ef1f5888462dee3f99"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac921a3d7c41f98ef1f5888462dee3f99">temp_black_wallpaper_path_</a></td></tr>
<tr class="memdesc:ac921a3d7c41f98ef1f5888462dee3f99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the path to the temporary black wallpaper image file.  <br /></td></tr>
<tr class="separator:ac921a3d7c41f98ef1f5888462dee3f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af82336c88e9297085d77f43d435138b6" id="r_af82336c88e9297085d77f43d435138b6"><td class="memItemLeft" align="right" valign="top">QSystemTrayIcon *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af82336c88e9297085d77f43d435138b6">tray_icon_</a></td></tr>
<tr class="memdesc:af82336c88e9297085d77f43d435138b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">System tray icon used for displaying notifications.  <br /></td></tr>
<tr class="separator:af82336c88e9297085d77f43d435138b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages a "system override" sequence involving visual and system-level changes. </p>
<p>This class orchestrates a sequence that:</p><ul>
<li>Changes the desktop wallpaper to black (saving the original).</li>
<li>Minimizes all open windows.</li>
<li>Displays a system notification.</li>
<li>Shows a full-screen, interactive <a class="el" href="classFloatingEnergySphereWidget.html" title="An OpenGL widget displaying a floating, interactive energy sphere.">FloatingEnergySphereWidget</a>.</li>
<li>Optionally plays background audio.</li>
<li>On Windows, installs low-level keyboard and mouse hooks to block most input, allowing only specific keys needed for an Easter egg within the floating widget.</li>
</ul>
<p>It handles restoring the system state (wallpaper, unblocking input) when the sequence finishes or is interrupted. It also includes logic for checking admin privileges and relaunching the application with or without elevation on Windows. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5383fb99e913ab8471a46e01ba4e4a75" name="a5383fb99e913ab8471a46e01ba4e4a75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5383fb99e913ab8471a46e01ba4e4a75">&#9670;&#160;</a></span>SystemOverrideManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SystemOverrideManager::SystemOverrideManager </td>
          <td>(</td>
          <td class="paramtype">QObject *</td>          <td class="paramname"><span class="paramname"><em>parent</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel explicit">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classSystemOverrideManager.html" title="Manages a &quot;system override&quot; sequence involving visual and system-level changes.">SystemOverrideManager</a>. Initializes member variables, sets up the system tray icon for notifications, and initializes the media player. Performs COM initialization on Windows. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>Optional parent QObject. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a97a21907f73c99fc8dd4defaadfd5f48" name="a97a21907f73c99fc8dd4defaadfd5f48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97a21907f73c99fc8dd4defaadfd5f48">&#9670;&#160;</a></span>~SystemOverrideManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SystemOverrideManager::~SystemOverrideManager </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. Ensures the system state is restored if the override is active. Cleans up the floating widget, temporary wallpaper file, and uninstalls hooks on Windows. Performs COM uninitialization on Windows. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager_a97a21907f73c99fc8dd4defaadfd5f48_cgraph.svg" width="650" height="363"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afa982397c7746f522e03b4af481591a6" name="afa982397c7746f522e03b4af481591a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa982397c7746f522e03b4af481591a6">&#9670;&#160;</a></span>ChangeWallpaper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SystemOverrideManager::ChangeWallpaper </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Saves the current wallpaper path and sets the desktop wallpaper to a temporary black image. </p>
<dl class="section return"><dt>Returns</dt><dd>True on success, false otherwise. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager_afa982397c7746f522e03b4af481591a6_icgraph.svg" width="396" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1d774843ddf2350e4b0ebd78777733bf" name="a1d774843ddf2350e4b0ebd78777733bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d774843ddf2350e4b0ebd78777733bf">&#9670;&#160;</a></span>HandleFloatingWidgetClosed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SystemOverrideManager::HandleFloatingWidgetClosed </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Slot called when the <a class="el" href="classFloatingEnergySphereWidget.html" title="An OpenGL widget displaying a floating, interactive energy sphere.">FloatingEnergySphereWidget</a> emits its widgetClosed signal. Cleans up the widget pointer and triggers system state restoration after a delay. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager_a1d774843ddf2350e4b0ebd78777733bf_cgraph.svg" width="100%" height="525"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager_a1d774843ddf2350e4b0ebd78777733bf_icgraph.svg" width="100%" height="391"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a2c03d5744eeabdefc7d14ceea6dfdd75" name="a2c03d5744eeabdefc7d14ceea6dfdd75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c03d5744eeabdefc7d14ceea6dfdd75">&#9670;&#160;</a></span>InitiateOverrideSequence</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SystemOverrideManager::InitiateOverrideSequence </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>is_first_time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initiates the full system override sequence. Installs input hooks (Windows), changes wallpaper, minimizes windows, sends a notification, and shows the floating animation widget. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_first_time</td><td>Flag indicating if this is the first time the sequence is run (affects floating widget's audio). </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager_a2c03d5744eeabdefc7d14ceea6dfdd75_cgraph.svg" width="100%" height="502"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="afa26c4f3d7965598587d9aa98f803c64" name="afa26c4f3d7965598587d9aa98f803c64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa26c4f3d7965598587d9aa98f803c64">&#9670;&#160;</a></span>MinimizeAllWindows()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SystemOverrideManager::MinimizeAllWindows </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minimizes all open windows on the desktop (Windows only). Uses COM or a fallback method. </p>
<dl class="section return"><dt>Returns</dt><dd>True on success, false otherwise. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager_afa26c4f3d7965598587d9aa98f803c64_icgraph.svg" width="396" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ac2593eaad2d059efe9595fe96886ba7d" name="ac2593eaad2d059efe9595fe96886ba7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2593eaad2d059efe9595fe96886ba7d">&#9670;&#160;</a></span>overrideFinished</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SystemOverrideManager::overrideFinished </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted when the system override sequence has finished and the system state has been restored. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager_ac2593eaad2d059efe9595fe96886ba7d_icgraph.svg" width="100%" height="423"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a8147e73709b13a6948f5ff871e2fd5c4" name="a8147e73709b13a6948f5ff871e2fd5c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8147e73709b13a6948f5ff871e2fd5c4">&#9670;&#160;</a></span>RelaunchNormally()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SystemOverrideManager::RelaunchNormally </td>
          <td>(</td>
          <td class="paramtype">const QStringList &amp;</td>          <td class="paramname"><span class="paramname"><em>arguments</em></span><span class="paramdefsep"> = </span><span class="paramdefval">QStringList()</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempts to relaunch the application without administrative privileges (Windows only). Used after the override sequence to return to a normal instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arguments</td><td>Optional command-line arguments to pass to the relaunched instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the relaunch was successfully initiated, false otherwise. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager_a8147e73709b13a6948f5ff871e2fd5c4_icgraph.svg" width="100%" height="423"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a0834ff9c3ad9bfec1d08ba05648e6122" name="a0834ff9c3ad9bfec1d08ba05648e6122"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0834ff9c3ad9bfec1d08ba05648e6122">&#9670;&#160;</a></span>RestoreSystemState</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SystemOverrideManager::RestoreSystemState </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restores the system state to normal. Uninstalls input hooks (Windows), restores the original wallpaper, removes the temporary wallpaper file, closes the floating widget, and emits <a class="el" href="#ac2593eaad2d059efe9595fe96886ba7d" title="Emitted when the system override sequence has finished and the system state has been restored.">overrideFinished()</a>. On Windows, attempts to relaunch the application normally and quit the elevated instance. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager_a0834ff9c3ad9bfec1d08ba05648e6122_cgraph.svg" width="423" height="363"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager_a0834ff9c3ad9bfec1d08ba05648e6122_icgraph.svg" width="100%" height="423"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a96048d245f236a58c59e8212c4642bf9" name="a96048d245f236a58c59e8212c4642bf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96048d245f236a58c59e8212c4642bf9">&#9670;&#160;</a></span>RestoreWallpaper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SystemOverrideManager::RestoreWallpaper </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restores the original desktop wallpaper saved by <a class="el" href="#afa982397c7746f522e03b4af481591a6" title="Saves the current wallpaper path and sets the desktop wallpaper to a temporary black image.">ChangeWallpaper()</a>. Also removes the temporary black wallpaper file. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the original wallpaper was successfully restored, false otherwise. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager_a96048d245f236a58c59e8212c4642bf9_icgraph.svg" width="100%" height="423"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3de31fe6a1e398ee6f57a69d710e5595" name="a3de31fe6a1e398ee6f57a69d710e5595"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3de31fe6a1e398ee6f57a69d710e5595">&#9670;&#160;</a></span>SendSystemNotification()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SystemOverrideManager::SendSystemNotification </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>title</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>message</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel nodiscard">nodiscard</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends a system notification using QSystemTrayIcon. Ensures the tray icon is visible before sending. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">title</td><td>The title of the notification. </td></tr>
    <tr><td class="paramname">message</td><td>The main text content of the notification. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the notification was sent successfully, false otherwise. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager_a3de31fe6a1e398ee6f57a69d710e5595_icgraph.svg" width="403" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad55be1ff40ee203da7ed94a15e7e3de5" name="ad55be1ff40ee203da7ed94a15e7e3de5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad55be1ff40ee203da7ed94a15e7e3de5">&#9670;&#160;</a></span>ShowFloatingAnimationWidget()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SystemOverrideManager::ShowFloatingAnimationWidget </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>is_first_time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates, configures, positions, and shows the <a class="el" href="classFloatingEnergySphereWidget.html" title="An OpenGL widget displaying a floating, interactive energy sphere.">FloatingEnergySphereWidget</a>. Connects the necessary signals for closing and sequence completion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_first_time</td><td>Flag passed to the <a class="el" href="classFloatingEnergySphereWidget.html" title="An OpenGL widget displaying a floating, interactive energy sphere.">FloatingEnergySphereWidget</a> constructor. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager_ad55be1ff40ee203da7ed94a15e7e3de5_cgraph.svg" width="100%" height="525"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classSystemOverrideManager_ad55be1ff40ee203da7ed94a15e7e3de5_icgraph.svg" width="440" height="50"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6ec751988233738acb068c33880fb398" name="a6ec751988233738acb068c33880fb398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ec751988233738acb068c33880fb398">&#9670;&#160;</a></span>floating_widget_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFloatingEnergySphereWidget.html">FloatingEnergySphereWidget</a>* SystemOverrideManager::floating_widget_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the floating energy sphere widget instance. </p>

</div>
</div>
<a id="a11bebff0f3c877c50ecda910e6a5ebb5" name="a11bebff0f3c877c50ecda910e6a5ebb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11bebff0f3c877c50ecda910e6a5ebb5">&#9670;&#160;</a></span>original_wallpaper_path_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString SystemOverrideManager::original_wallpaper_path_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the path to the user's original desktop wallpaper. </p>

</div>
</div>
<a id="aab4d72ec86f97e31648a8c1ccdc1a832" name="aab4d72ec86f97e31648a8c1ccdc1a832"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab4d72ec86f97e31648a8c1ccdc1a832">&#9670;&#160;</a></span>override_active_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SystemOverrideManager::override_active_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag indicating if the system override sequence is currently active. </p>

</div>
</div>
<a id="ac921a3d7c41f98ef1f5888462dee3f99" name="ac921a3d7c41f98ef1f5888462dee3f99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac921a3d7c41f98ef1f5888462dee3f99">&#9670;&#160;</a></span>temp_black_wallpaper_path_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString SystemOverrideManager::temp_black_wallpaper_path_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the path to the temporary black wallpaper image file. </p>

</div>
</div>
<a id="af82336c88e9297085d77f43d435138b6" name="af82336c88e9297085d77f43d435138b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af82336c88e9297085d77f43d435138b6">&#9670;&#160;</a></span>tray_icon_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QSystemTrayIcon* SystemOverrideManager::tray_icon_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>System tray icon used for displaying notifications. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/ui/settings/tabs/classified/components/<a class="el" href="system__override__manager_8h_source.html">system_override_manager.h</a></li>
<li>src/ui/settings/tabs/classified/components/<a class="el" href="system__override__manager_8cpp.html">system_override_manager.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classSystemOverrideManager.html">SystemOverrideManager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
